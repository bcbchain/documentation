<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="robots" content="index,follow">
    <meta name="author" content="bcb-project">
    <meta name="application-name" content="bcbchain.io">
    <meta name="renderer" content="ie-stand">
    <title>Deeper Understanding of Smart Contracts</title>
    <meta property="og:type" content="website" />
    <meta property="og:title" content="BCB Documentation" />
    <meta property="og:description" content="BCB Documentation" />
    <meta property="og:image" content="/img/twitter-img.jpg" />
    <meta name="twitter:title" content="BCB Documentation" />
    <meta name="twitter:description" content="BCB Documentation" />
    <meta name="twitter:image" content="/img/twitter-img.jpg" />
    <meta name="twitter:card" content="summary_large_image" />

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png">
    <link rel="manifest" href="/img/site.webmanifest">
    <link rel="mask-icon" href="/img/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#00aba9">
    <meta name="theme-color" content="#ffffff">

    <link href="/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="/lib/animate.css/animate.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/styles/default.min.css">
    <link href="/lib/font-awesome/css/all.min.css" rel="stylesheet" />
    <link href="/css/site.min.css?v=20191106" rel="stylesheet" />
</head>
<body data-spy="scroll" data-target="#navbar-sidenav">
    <nav class="navbar fixed-top navbar-expand-lg py-1 px-3 px-sm-4 px-md-5">
        <a class="navbar-brand" href="https://bcbchain.io">
            <img class="logo" src="/img/logo.png" alt="BCB Logo" />
            <img class="logo-dark" src="/img/logo-dark.png" alt="BCB Logo" />
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <i class="fas fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="/docs/index.html">Documentation</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/tutorial/index.html">Tutorial</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/faq/index.html">FAQ</a>
                </li>
                <li class="nav-item" style="margin-right: 100px">
                    <a class="nav-link" href="/articles/index.html">Articles</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link d-inline-block" href="javascript:" onclick="languageEx('en-us')">EN</a>|<a class="nav-link d-inline-block" href="javascript:" onclick="languageEx('zh-cn')">中文</a>
                </li>
            </ul>
            <form class="form-inline my-2 my-lg-0 d-none">
                <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
            </form>
        </div>
    </nav>
    <div class="container-fluid" style="margin-top: 55px">
        <div class="row d-flex">
            <div class="d-none d-md-block catalog py-2 py-md-5 pl-md-3">
                <div class="search-bar">
                    <span class="search-de">X</span>
                    <input id="sInput" placeholder="search" />
                    <div class="search-re">
                        <ul id="sResult"></ul>
                    </div>
                </div>
                
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/Site Map.html'>Site Map</a>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>BCBBasic</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/01-BCBBasic/01-BCBIntro.html'>BCBIntro</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/01-BCBBasic/02-BCBNode.html'>BCBNode</a>
</nav>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>BCBNetwork</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/02-BCBNetwork/01-MainnetAndTestnet.html'>MainnetAndTestnet</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/02-BCBNetwork/02-BuildForPrivateChain.html'>BuildForPrivateChain</a>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>BCBSideChain</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/02-BCBNetwork/BCBSideChain/01-SideChainRegistration.html'>SideChainRegistration</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/02-BCBNetwork/BCBSideChain/02-SideChainCreation.html'>SideChainCreation</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/02-BCBNetwork/BCBSideChain/03-SideChainGovernance.html'>SideChainGovernance</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/02-BCBNetwork/BCBSideChain/04-CrossChainTransaction.html'>CrossChainTransaction</a>
</nav>
</nav>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>BCBTools</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/03-BCBTools/01-Overview.html'>Overview</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/03-BCBTools/02-bcw.html'>bcw</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/03-BCBTools/03-bcc.html'>bcc</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/03-BCBTools/04-smccheck.html'>smccheck</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/03-BCBTools/05-smcpack.html'>smcpack</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/03-BCBTools/06-sigorg.html'>sigorg</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/03-BCBTools/07-addr.html'>addr</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/03-BCBTools/08-orgid.html'>orgid</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/03-BCBTools/09-genesis.html'>genesis</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/03-BCBTools/10-txparse.html'>txparse</a>
</nav>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>SmartContractDev</span>
<nav class='nav nav-pills flex-column ml-3'>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>SmartContract(golang)</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/04-SmartContractDev/SmartContract(golang)/01-Overview.html'>Overview</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/04-SmartContractDev/SmartContract(golang)/02-ProgrammingExample.html'>ProgrammingExample</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/04-SmartContractDev/SmartContract(golang)/03-DeeperUnderstanding.html'>DeeperUnderstanding</a>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>DevSmartContract</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/04-SmartContractDev/SmartContract(golang)/DevSmartContract/01-DevelopmentEnvironment.html'>DevelopmentEnvironment</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/04-SmartContractDev/SmartContract(golang)/DevSmartContract/02-FirstSmartContract.html'>FirstSmartContract</a>
</nav>
</nav>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>SmartContract(solidity)</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/04-SmartContractDev/SmartContract(solidity)/01-BVM-EVM-diff.html'>BVM-EVM-diff</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/04-SmartContractDev/SmartContract(solidity)/02-Smart-Contract-Dev.html'>Smart-Contract-Dev</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/04-SmartContractDev/SmartContract(solidity)/03-Contract-deployment-call.html'>Contract-deployment-call</a>
</nav>
</nav>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>ExchangeIntegrationGuide</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/05-ExchangeIntegrationGuide/01-IntroductionOfIntegrationScheme.html'>IntroductionOfIntegrationScheme</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/05-ExchangeIntegrationGuide/02-InstallationDeployment.html'>InstallationDeployment</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/05-ExchangeIntegrationGuide/03-CommandDetails.html'>CommandDetails</a>
</nav>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>DevelopmentReference</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/06-DevelopmentReference/01-Overview.html'>Overview</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/06-DevelopmentReference/02-ModelDescription.html'>ModelDescription</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/06-DevelopmentReference/03-AlgorithmDescription.html'>AlgorithmDescription</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/06-DevelopmentReference/04-TransactionFormatv1.html'>TransactionFormatv1</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/06-DevelopmentReference/05-TransactionFormatv2.html'>TransactionFormatv2</a>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>MainChainAPI</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/06-DevelopmentReference/01-MainChainAPI/01-Protocol.html'>Protocol</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/06-DevelopmentReference/01-MainChainAPI/02-NetworkInterface.html'>NetworkInterface</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/06-DevelopmentReference/01-MainChainAPI/03-BlockchainInterface.html'>BlockchainInterface</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/06-DevelopmentReference/01-MainChainAPI/04-TransactionInterface.html'>TransactionInterface</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/06-DevelopmentReference/01-MainChainAPI/05-GlobalInterface.html'>GlobalInterface</a>
</nav>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>SmartContractAPI</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/06-DevelopmentReference/02-SmartContractAPI/01-Overview.html'>Overview</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/06-DevelopmentReference/02-SmartContractAPI/02-Functions.html'>Functions</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/06-DevelopmentReference/02-SmartContractAPI/03-sdk.types.html'>sdk.types</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/06-DevelopmentReference/02-SmartContractAPI/04-sdk.bn.html'>sdk.bn</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/06-DevelopmentReference/02-SmartContractAPI/05-sdk.crypto.ed25519.html'>sdk.crypto.ed25519</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/06-DevelopmentReference/02-SmartContractAPI/06-sdk.crypto.sha3.html'>sdk.crypto.sha3</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/06-DevelopmentReference/02-SmartContractAPI/07-Toolbox.html'>Toolbox</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/06-DevelopmentReference/02-SmartContractAPI/08-Interfaces.html'>Interfaces</a>
</nav>
<span class='ml-0 my-1 nav-link'><i class='fas fa-caret-right'></i>ExchangeAPI</span>
<nav class='nav nav-pills flex-column ml-3'>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/06-DevelopmentReference/03-ExchangeAPI/01-CommunicationProtocol.html'>CommunicationProtocol</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/06-DevelopmentReference/03-ExchangeAPI/02-WalletInterface.html'>WalletInterface</a>
<a class='ml-0 my-1 nav-link' href='/docs/en-us/06-DevelopmentReference/03-ExchangeAPI/03-BlockchainInterface.html'>BlockchainInterface</a>
</nav>
</nav>
</nav>
            </div>
            <main class="p-3 p-sm-4 p-md-5">
                <a class="d-block d-md-none" href="javascript:" onclick="showCatalog()">Show / Hide Table of Contents</a>
                <h1 id='eb6b5124'><span class='bd-content-title'>Deeper Understanding of Smart Contracts<a class='anchorjs-link ' href='#eb6b5124' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h1>
<h2 id='c93a45be'><span class='bd-content-title'>1. Organization<a class='anchorjs-link ' href='#c93a45be' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h2>
<p class='with-space'>The smart contracts developed for the BCBChain backbone are organized according to the organization&#39;s architecture, and all smart contracts developed for the same organization will be integrated into a contract process for users to call.</p>
<p class='with-space'>In a smart contract, you can call the interface that is implemented by other smart contracts. Through the interface in the called smart contract, you can call another smart contract interface. BCBChain supports up to 8 levels of such nested cross-contract calls, but they are not allowed to form a loop.</p>
<p class='with-space'>BCBChain has set up a base organization, and the smart contracts developed for this base organization will be integrated into the contract process of all organizations for users to call. The organization is mainly set up to provide some cross-contract calls that can be executed by any organization at any time, such as the basic validators for the BCBChain main chain and the token template contract.</p>
<h2 id='abf8da5c'><span class='bd-content-title'>2. BNF Paradigm<a class='anchorjs-link ' href='#abf8da5c' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h2>
<p class='with-space'>This section describes the contract specifications using the BNF paradigm.</p>
<p class='with-space'>The English abbreviation for the Backus paradigm is BNF, a formal grammatical representation of the American name Backus and the Danish name Naur, used to describe a formal system of grammar. A typical meta language. Also known as the Backus-Naur form. Not only does it strictly represent grammatical rules, but the described grammar is context-independent. It has the characteristics of simple syntax, clear definition, and easy parsing and compilation.</p>
<p class='with-space'>The way the BNF paradigm represents grammar rules is:</p>
<ul class='with-space'>
<li>
<p class='with-space'>Non-terminals are enclosed in angle brackets.</p></li>
<li>
<p class='with-space'>The left part of each rule is a non-terminal character, and the right part is a symbol string consisting of non-terminal symbols and terminators. The middle is usually separated by ::=.</p></li>
<li>
<p class='with-space'>Rules with the same left part can share one left part, with the right parts separated by a vertical line &quot;|&quot;.</p></li>
</ul>
<p class='with-space'>The meta-characters commonly used in the BNF paradigm and their meanings are as follows:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='1. Characters in double quotes (such as &quot;word&quot;) represent the characters themselves.  
   Double_quote is used to represent double quotes themselves.
2. Words outside the double quotes (possibly underlined) represent the grammar part.
3. The angle brackets &lt; &gt; are mandatory.
4. The square brackets [ ] contain optional items.
5. The braces { } contain items that can be repeated from 0 to innumerable.
6. A set of all the items contained in parentheses ( ) is used to control the priority of
   the expression.
7. Vertical line | means that you can choose one of the left and right sides, which is
   equivalent to &quot;OR&quot;.
8. ::= means &quot;defined as&quot;.
9. Blank Characters The blank character spacing that appears in the BNF paradigm
   definition is only required for typesetting and is not part of the specification.'>Copy</button><pre><code class='text' lang='text'>1. Characters in double quotes (such as &quot;word&quot;) represent the characters themselves.  
   Double_quote is used to represent double quotes themselves.
2. Words outside the double quotes (possibly underlined) represent the grammar part.
3. The angle brackets &lt; &gt; are mandatory.
4. The square brackets [ ] contain optional items.
5. The braces { } contain items that can be repeated from 0 to innumerable.
6. A set of all the items contained in parentheses ( ) is used to control the priority of
   the expression.
7. Vertical line | means that you can choose one of the left and right sides, which is
   equivalent to &quot;OR&quot;.
8. ::= means &quot;defined as&quot;.
9. Blank Characters The blank character spacing that appears in the BNF paradigm
   definition is only required for typesetting and is not part of the specification.
</code></pre>
</figure>
<h2 id='c489700a'><span class='bd-content-title'>3. Contract Markups<a class='anchorjs-link ' href='#c489700a' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h2>
<p class='with-space'>The BCBChain smart contract code uses the notation to describe the contract&#39;s metadata in the contract code&#39;s comments.</p>
<p class='with-space'>Below is a detailed syntax description of the various tags used by the BCBChain Smart Contract.</p>
<h3 id='c2e0694a'><span class='bd-content-title'>3.1 contract<a class='anchorjs-link ' href='#c2e0694a' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<p class='with-space'>The markup <code>contract</code> is used to identify the contract name, which must be unique within the organization. Please ask the developer of the smart contract to design the contract names accordingly.</p>
<p class='with-space'>The markup <code>contract</code>is mandatory, but can only appear once in the entire contract code.</p>
<p class='with-space'>The BNF paradigm for contract ` markup is defined as follows:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='&lt;contract markup syntax&gt; ::= &quot;//@:contract:&quot; &lt;contract name&gt;
&lt;contract name&gt; ::= &lt;letter&gt; | &lt;contract name&gt; &lt;alphanumeric string&gt;
&lt;alphanumeric string&gt; ::= &lt;letter&gt; |
                          &lt;decimal number&gt; |
                          &lt;alphanumeric string&gt; &lt;letter&gt; |
                          &lt;alphanumeric string&gt; &lt;decimal number&gt;
&lt;let&gt; ::= &quot;_&quot; | &quot;-&quot; | &quot;.&quot; | &lt;lowercase&gt; | &lt;uppercase&gt;
&lt;lowercase letter&gt; ::= &quot;a&quot; | &quot;b&quot; | &quot;c&quot; | &quot;d&quot; | &quot;e&quot; | &quot;f&quot; | &quot;g&quot; | &quot;h&quot; | &quot;i&quot; | &quot;j&quot; |
                       &quot;k&quot; | &quot;l&quot; | &quot;m&quot; | &quot;n&quot; | &quot;o&quot; | &quot;p&quot; | &quot;q&quot; | &quot;r&quot; | &quot;s&quot; | &quot;t&quot; |
                       &quot;u&quot; | &quot;v&quot; | &quot;w&quot; | &quot;x&quot; | &quot;y&quot; | &quot;z&quot;
&lt;Capital letter&gt; ::= &quot;A&quot; | &quot;B&quot; | &quot;C&quot; | &quot;D&quot; | &quot;E&quot; | &quot;F&quot; | &quot;G&quot; | &quot;H&quot; | &quot;I&quot; | &quot;J&quot; |
                     &quot;K&quot; | &quot;L&quot; | &quot;M&quot; | &quot;N&quot; | &quot;O&quot; | &quot;P&quot; | &quot;Q&quot; | &quot;R&quot; | &quot;S&quot; | &quot;T&quot; |
                     &quot;U&quot; | &quot;V&quot; | &quot;W&quot; | &quot;X&quot; | &quot;Y&quot; | &quot;Z&quot;
&lt;decimal number&gt; ::= &quot;0&quot; | &quot;1&quot; | &quot;2&quot; | &quot;3&quot; | &quot;4&quot; | &quot;5&quot; | &quot;6&quot; | &quot;7&quot; | 8 | &quot;9&quot;'>Copy</button><pre><code class='go' lang='go'>&lt;contract markup syntax&gt; ::= &quot;//@:contract:&quot; &lt;contract name&gt;
&lt;contract name&gt; ::= &lt;letter&gt; | &lt;contract name&gt; &lt;alphanumeric string&gt;
&lt;alphanumeric string&gt; ::= &lt;letter&gt; |
                          &lt;decimal number&gt; |
                          &lt;alphanumeric string&gt; &lt;letter&gt; |
                          &lt;alphanumeric string&gt; &lt;decimal number&gt;
&lt;let&gt; ::= &quot;_&quot; | &quot;-&quot; | &quot;.&quot; | &lt;lowercase&gt; | &lt;uppercase&gt;
&lt;lowercase letter&gt; ::= &quot;a&quot; | &quot;b&quot; | &quot;c&quot; | &quot;d&quot; | &quot;e&quot; | &quot;f&quot; | &quot;g&quot; | &quot;h&quot; | &quot;i&quot; | &quot;j&quot; |
                       &quot;k&quot; | &quot;l&quot; | &quot;m&quot; | &quot;n&quot; | &quot;o&quot; | &quot;p&quot; | &quot;q&quot; | &quot;r&quot; | &quot;s&quot; | &quot;t&quot; |
                       &quot;u&quot; | &quot;v&quot; | &quot;w&quot; | &quot;x&quot; | &quot;y&quot; | &quot;z&quot;
&lt;Capital letter&gt; ::= &quot;A&quot; | &quot;B&quot; | &quot;C&quot; | &quot;D&quot; | &quot;E&quot; | &quot;F&quot; | &quot;G&quot; | &quot;H&quot; | &quot;I&quot; | &quot;J&quot; |
                     &quot;K&quot; | &quot;L&quot; | &quot;M&quot; | &quot;N&quot; | &quot;O&quot; | &quot;P&quot; | &quot;Q&quot; | &quot;R&quot; | &quot;S&quot; | &quot;T&quot; |
                     &quot;U&quot; | &quot;V&quot; | &quot;W&quot; | &quot;X&quot; | &quot;Y&quot; | &quot;Z&quot;
&lt;decimal number&gt; ::= &quot;0&quot; | &quot;1&quot; | &quot;2&quot; | &quot;3&quot; | &quot;4&quot; | &quot;5&quot; | &quot;6&quot; | &quot;7&quot; | 8 | &quot;9&quot;
</code></pre>
</figure>
<p class='with-space'>The code after the <code>contract</code>  markup must be strictly followed by a contract class definition containing the  <code>sdk.ISmartContract</code> member. This contract class follows the context of the smart contract. Each time there is a message call to a smart contract, an instance of the contract class will be automatically created, and its smart contract method will be called. The methods that it provide for the outside to call, must be a member function of its class. The first letter of the class name must be capitalized.</p>
<p class='with-space'>Example below：</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='//@:contract:mycoin
type Mycoin struct {
    sdk sdk.ISmartContract

    //@:public:store:cache
    totalSupply bn.Number

    //@:public:store
    balanceOf map[types.Address]bn.Number
}'>Copy</button><pre><code class='go' lang='go'>//@:contract:mycoin
type Mycoin struct {
    sdk sdk.ISmartContract

    //@:public:store:cache
    totalSupply bn.Number

    //@:public:store
    balanceOf map[types.Address]bn.Number
}
</code></pre>
</figure>
<h3 id='f5c12141'><span class='bd-content-title'>3.2 version<a class='anchorjs-link ' href='#f5c12141' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<p class='with-space'>The markup <code>version</code>is used to identify the version of the contract and can only appear once in the entire contract code.</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='The BNF paradigm for ```version```is defined as follows:'>Copy</button><pre><code class='version```is mandatory, but can only appear once in the entire contract code.' lang='version```is mandatory, but can only appear once in the entire contract code.'>The BNF paradigm for ```version```is defined as follows:
</code></pre>
</figure>
<p class='with-space'>&lt;version markup syntax&gt; ::= &quot;//@:version:&quot; &lt;contract version&gt; &lt;Contract version&gt; ::= &lt;decimal number&gt; |               &lt;decimal number&gt; &quot;.&quot; &lt;decimal number&gt; |               &lt;decimal number&gt; &quot;.&quot; &lt;decimal number&gt; &quot;.&quot; &lt;decimal number&gt; |               &lt;decimal number&gt; &quot;.&quot; &lt;decimal number&gt; &quot;.&quot; &lt;decimal number&gt; &quot;.&quot; &lt;decimal number&gt; &lt;decimal number&gt; ::= &lt;decimal number&gt; | &lt;decimal number&gt; &lt;decimal number&gt; &lt;decimal number&gt; ::= &quot;0&quot; | &quot;1&quot; | &quot;2&quot; | &quot;3&quot; | &quot;4&quot; | &quot;5&quot; | &quot;6&quot; | &quot;7&quot; | 8 | &quot;9&quot; ```</p>
<p class='with-space'>Example below:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='//@:version:1.0'>Copy</button><pre><code class='go' lang='go'>//@:version:1.0
</code></pre>
</figure>
<p class='with-space'>Note: The BCBChain chain does not require specific rules for smart contract versions, ie the contract version can be either a one-segment (eg 1, 2, 3) or a two-segment (1.0, 1.1, 1.2), three-segment (1.0. 1, 1.0.2, 1.0.3), four-segment (1.0.1.102, 1.0.1.103), but different versions of the same smart contract need to maintain the consistency of the number of version format segments.</p>
<h3 id='bd7e567f'><span class='bd-content-title'>3.3 organization<a class='anchorjs-link ' href='#bd7e567f' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<p class='with-space'>The markup <code>organization</code>is used to identify the ID of the organization to which the contract belongs.</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='The BNF paradigm for ```organization```is defined as follows:'>Copy</button><pre><code class='organization```is mandatory, but can only appear once in the entire contract code.' lang='organization```is mandatory, but can only appear once in the entire contract code.'>The BNF paradigm for ```organization```is defined as follows:
</code></pre>
</figure>
<p class='with-space'>&lt;organization markup syntax&gt; ::= &quot;//@:organization:&quot; &lt;organization ID&gt; &lt;Organization ID&gt; ::= &lt;prefix code&gt; &lt;Base58 string&gt; &lt;prefix code&gt; ::= &quot;org&quot; &lt;Base58 string&gt; ::= &lt;Base58 character&gt; | &lt;Base58 string&gt; &lt;Base58 character&gt; &lt;Base58 characters&gt; ::= &lt;decimal numbers&gt; | &lt;uppercase letters&gt; | &lt;lowercase letters&gt; &lt;decimal number&gt; ::= &quot;1&quot; | &quot;2&quot; | &quot;3&quot; | &quot;4&quot; | &quot;5&quot; | &quot;6&quot; | &quot;7&quot; | 8 | &quot;9&quot; &lt;Capital Letters&gt; ::= &quot;A&quot; | &quot;B&quot; | &quot;C&quot; | &quot;D&quot; | &quot;E&quot; | &quot;F&quot; | &quot;G&quot; | &quot;H&quot; | &quot;J&quot; | &quot;K&quot; |                       &quot;L&quot; | &quot;M&quot; | &quot;N&quot; | &quot;P&quot; | &quot;Q&quot; | &quot;R&quot; | &quot;S&quot; | &quot;T&quot; | &quot;U&quot; | &quot;V&quot; |                       &quot;W&quot; | &quot;X&quot; | &quot;Y&quot; | &quot;Z&quot; &lt;lowercase letter&gt; ::= &quot;a&quot; | &quot;b&quot; | &quot;c&quot; | &quot;d&quot; | &quot;e&quot; | &quot;f&quot; | &quot;g&quot; | &quot;h&quot; | &quot;i&quot; | &quot;j&quot; |                        &quot;k&quot; | &quot;m&quot; | &quot;n&quot; | &quot;o&quot; | &quot;p&quot; | &quot;q&quot; | &quot;r&quot; | &quot;s&quot; | &quot;t&quot; | &quot;u&quot; |                        &quot;v&quot; | &quot;w&quot; | &quot;x&quot; | &quot;y&quot; | &quot;z&quot; ```</p>
<p class='with-space'>An example is as follows:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='//@:organization:orgBtjfCSPCAJ84uQWcpNr74NLMWYm5SXzer'>Copy</button><pre><code class='go' lang='go'>//@:organization:orgBtjfCSPCAJ84uQWcpNr74NLMWYm5SXzer
</code></pre>
</figure>
<h3 id='b2b1bfa2'><span class='bd-content-title'>3.4 author<a class='anchorjs-link ' href='#b2b1bfa2' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<p class='with-space'>The markup <code>author</code>is used to identify the account public key of the contract author.</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='The BNF paradigm for```author```is defined as follows:'>Copy</button><pre><code class='author```is a mandatory markup, but can only appear once in the entire contract code.' lang='author```is a mandatory markup, but can only appear once in the entire contract code.'>The BNF paradigm for```author```is defined as follows:
</code></pre>
</figure>
<p class='with-space'>&lt;author markup syntax&gt; ::= &quot;//@:author:&quot; &lt;account public key&gt; &lt;account public key&gt; ::= &lt;hex string&gt; &lt;hexadecimal string&gt; ::= &lt;hexadecimal number&gt; | &lt;hexadecimal string&gt; &lt;hexadecimal number&gt; &lt;hexadecimal number&gt; ::= &quot;0&quot; | 1&quot; | &quot;2&quot; | &quot;3&quot; | &quot;4&quot; | &quot;5&quot; | &quot;6&quot; | &quot;7&quot; | 8 | &quot;9&quot; |                            &quot;A&quot; | &quot;B&quot; | &quot;C&quot; | &quot;D&quot; | &quot;E&quot; | &quot;F&quot; |                            &quot;a&quot; | &quot;b&quot; | &quot;c&quot; | &quot;d&quot; | &quot;e&quot; | &quot;f&quot; ```</p>
<p class='with-space'>Example below:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='//@:author:b37e7627431feb18123b81bcf1f41ffd37efdb90513d48ff2c7f8a0c27a9d06c'>Copy</button><pre><code class='go' lang='go'>//@:author:b37e7627431feb18123b81bcf1f41ffd37efdb90513d48ff2c7f8a0c27a9d06c
</code></pre>
</figure>
<p class='with-space'>Note: The hexadecimal public key string length must be equal to 64.</p>
<h3 id='bb79b3ee'><span class='bd-content-title'>3.5 constructor<a class='anchorjs-link ' href='#bb79b3ee' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<p class='with-space'>The markup <code>constructor</code>is used to identify the chain&#39;s initialization function.</p>
<p class='with-space'>The valid code that follows the <code>constructor</code>  must be a no-argument function called  <code>InitChain</code>  or  <code>UpdateChain</code>  , which will automatically make the only call when the first created (  <code>InitChain</code>  ) or upgrade (  <code>UpdateChain</code>) of the contract on the BCBChain chain, in order to complete its initialization work in the block, such as initializing the initial values of some global state data.</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='The BNF paradigm for```constructor``` is defined as follows:'>Copy</button><pre><code class='constructor```is optional, but can only appear up to two times in the entire contract code, once for the ```initchain```function, and once for the ```updatechain```function.' lang='constructor```is optional, but can only appear up to two times in the entire contract code, once for the ```initchain```function, and once for the ```updatechain```function.'>The BNF paradigm for```constructor``` is defined as follows:
</code></pre>
</figure>
<p class='with-space'>&lt;author markup syntax&gt; ::= &quot;//@:constructor&quot; ```</p>
<p class='with-space'>Example below:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='//@:constructor
func (mc *Mycoin) InitChain() {
    ...
}

//@:constructor
func (mc *Mycoin) UpdateChain() {
    ...
}'>Copy</button><pre><code class='go' lang='go'>//@:constructor
func (mc *Mycoin) InitChain() {
    ...
}

//@:constructor
func (mc *Mycoin) UpdateChain() {
    ...
}
</code></pre>
</figure>
<h3 id='dfa2e00b'><span class='bd-content-title'>3.6 public:store<a class='anchorjs-link ' href='#dfa2e00b' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<p class='with-space'>The markup public:store  <code>is used to identify a state variable, which must be a valid member variable of the contract class (one with the</code>  contract ` markup).</p>
<p class='with-space'>The valid code that follows <code>public:store</code> must be the definition of a member variable.</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='The BNF paradigm for ```public:store```is defined as follows:'>Copy</button><pre><code class='public:store```is an optional markup that can appear multiple times in the contract class definition, each time identifying a different state variable.' lang='public:store```is an optional markup that can appear multiple times in the contract class definition, each time identifying a different state variable.'>The BNF paradigm for ```public:store```is defined as follows:
</code></pre>
</figure>
<p class='with-space'>&lt;public:store markup syntax&gt; ::= &quot;//@:public:store&quot; ```</p>
<p class='with-space'>Example below:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='//@:contract:mycoin
type Mycoin struct {
    sdk sdk.ISmartContract
    ...
    //@:public:store
    balanceOf map[types.Address]bn.Number
}'>Copy</button><pre><code class='go' lang='go'>//@:contract:mycoin
type Mycoin struct {
    sdk sdk.ISmartContract
    ...
    //@:public:store
    balanceOf map[types.Address]bn.Number
}
</code></pre>
</figure>
<p class='with-space'>The state variable with the public:store ` markup cannot be directly accessed in the contract code. According to the BCBChain contract specification, the SDK matching tool provided by BCBChain automatically generates a read/write function for the state variable. Example below:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='//Read the function of balanceOf
func (mc *Mycoin) _balanceOf(k types.Address) bn.Number {
    return *mc.sdk.Helper().StateHelper().GetEx(
        fmt.Sprintf(&quot;/balanceOf/%v&quot;, k), &amp;bn.Number{V: big.NewInt(0)}).(*bn.Number)
}

//A function that detects whether balanceOf exists
func (mc *Mycoin) _chkBalanceOf(k types.Address) bool {
    return mc.sdk.Helper().StateHelper().Check(fmt.Sprintf(&quot;/balanceOf/%v&quot;, k))
}

//Configures the function of balanceOf
func (mc *Mycoin) _setBalanceOf(k types.Address, v bn.Number) {
    mc.sdk.Helper().StateHelper().Set(fmt.Sprintf(&quot;/balanceOf/%v&quot;, k), &amp;v)
}

//Function to remove the key value of balanceOf from the state database
func (mc *Mycoin) _delBalanceOf(k types.Address) {
    mc.sdk.Helper().StateHelper().Delete(fmt.Sprintf(&quot;/balanceOf/%v&quot;, k))
}'>Copy</button><pre><code class='go' lang='go'>//Read the function of balanceOf
func (mc *Mycoin) _balanceOf(k types.Address) bn.Number {
    return *mc.sdk.Helper().StateHelper().GetEx(
        fmt.Sprintf(&quot;/balanceOf/%v&quot;, k), &amp;bn.Number{V: big.NewInt(0)}).(*bn.Number)
}

//A function that detects whether balanceOf exists
func (mc *Mycoin) _chkBalanceOf(k types.Address) bool {
    return mc.sdk.Helper().StateHelper().Check(fmt.Sprintf(&quot;/balanceOf/%v&quot;, k))
}

//Configures the function of balanceOf
func (mc *Mycoin) _setBalanceOf(k types.Address, v bn.Number) {
    mc.sdk.Helper().StateHelper().Set(fmt.Sprintf(&quot;/balanceOf/%v&quot;, k), &amp;v)
}

//Function to remove the key value of balanceOf from the state database
func (mc *Mycoin) _delBalanceOf(k types.Address) {
    mc.sdk.Helper().StateHelper().Delete(fmt.Sprintf(&quot;/balanceOf/%v&quot;, k))
}
</code></pre>
</figure>
<h3 id='b8e56023'><span class='bd-content-title'>3.7 public:store:cache<a class='anchorjs-link ' href='#b8e56023' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<p class='with-space'>The markup public:store:cache  <code>is used to identify a state variable that can be cached in memory, which must be a valid member variable of the contract class (one with the</code>  contract ` markup).</p>
<p class='with-space'>The valid code that follows public:store:cache ` must be the definition of a member variable.</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='The BNF paradigm for ```public:store:cache```is defined as follows:'>Copy</button><pre><code class='public:store:cache``` is an optional markup that can appear multiple times in the contract class definition, each time identifying a state variable.' lang='public:store:cache``` is an optional markup that can appear multiple times in the contract class definition, each time identifying a state variable.'>The BNF paradigm for ```public:store:cache```is defined as follows:
</code></pre>
</figure>
<p class='with-space'>&lt;public:store:cache markup syntax&gt; ::= &quot;//@:public:store:cache&quot; ```</p>
<p class='with-space'>Example below:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='//@:contract:mycoin
type Mycoin struct {
    sdk sdk.ISmartContract
    ...
    //@:public:store:cache
    totalSupply bn.Number
}'>Copy</button><pre><code class='go' lang='go'>//@:contract:mycoin
type Mycoin struct {
    sdk sdk.ISmartContract
    ...
    //@:public:store:cache
    totalSupply bn.Number
}
</code></pre>
</figure>
<p class='with-space'>The cacheable state variable cannot be directly accessed in the contract code. According to the BCBChain contract specification, the SDK matching tool provided by BCBChain automatically generates a read/write function for the state variable. Example below:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='//Read the function of the state variable totalSupply
func (mc *Mycoin) _totalSupply() bn.Number {
    return *mc.sdk.Helper().StateHelper().McGetEx(
        &quot;/totalSupply&quot;, &amp;bn.Number{V: big.NewInt(0)}).(*bn.Number)
}

//A function that detects whether totalSupply exists
func (mc *Mycoin) _chkTotalSupply() bool {
    return mc.sdk.Helper().StateHelper().McCheck(&quot;/totalSupply&quot;)
}

//Sets the function of totalSupply
func (mc *Mycoin) _setTotalSupply(v bn.Number) {
    mc.sdk.Helper().StateHelper().McSet(&quot;/totalSupply&quot;, &amp;v)
}

//Clears the function of totalSupply
func (mc *Mycoin) _clrTotalSupply() {
    mc.sdk.Helper().StateHelper().McClear(&quot;/totalSupply&quot;)
}

//Remove totalSupply from the state database
func (m *Mycoin) _delTotalSupply() {
    m.sdk.Helper().StateHelper().McDelete(&quot;/totalSupply&quot;)
}'>Copy</button><pre><code class='go' lang='go'>//Read the function of the state variable totalSupply
func (mc *Mycoin) _totalSupply() bn.Number {
    return *mc.sdk.Helper().StateHelper().McGetEx(
        &quot;/totalSupply&quot;, &amp;bn.Number{V: big.NewInt(0)}).(*bn.Number)
}

//A function that detects whether totalSupply exists
func (mc *Mycoin) _chkTotalSupply() bool {
    return mc.sdk.Helper().StateHelper().McCheck(&quot;/totalSupply&quot;)
}

//Sets the function of totalSupply
func (mc *Mycoin) _setTotalSupply(v bn.Number) {
    mc.sdk.Helper().StateHelper().McSet(&quot;/totalSupply&quot;, &amp;v)
}

//Clears the function of totalSupply
func (mc *Mycoin) _clrTotalSupply() {
    mc.sdk.Helper().StateHelper().McClear(&quot;/totalSupply&quot;)
}

//Remove totalSupply from the state database
func (m *Mycoin) _delTotalSupply() {
    m.sdk.Helper().StateHelper().McDelete(&quot;/totalSupply&quot;)
}
</code></pre>
</figure>
<h3 id='f9acffed'><span class='bd-content-title'>3.8 public:receipt<a class='anchorjs-link ' href='#f9acffed' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<p class='with-space'>The markup public:receipt ` is used to identify the definition of all receipts in the contract.</p>
<p class='with-space'>The valid code following <code>public:receipt</code>  must be an interface definition called  <code>receipt</code>.</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='The BNF paradigm for ```public:receipt```is defined as follows:'>Copy</button><pre><code class='public:receipt```is optional and can only appear at most once in the entire contract code.' lang='public:receipt```is optional and can only appear at most once in the entire contract code.'>The BNF paradigm for ```public:receipt```is defined as follows:
</code></pre>
</figure>
<p class='with-space'>&lt;public:receipt markup syntax&gt; ::= &quot;//@:public:receipt&quot; ```</p>
<p class='with-space'>Example below:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='//@:public:receipt
type receipt interface {
    emitTransferMyCoin(token, from, to types.Address, value bn.Number)
}'>Copy</button><pre><code class='go' lang='go'>//@:public:receipt
type receipt interface {
    emitTransferMyCoin(token, from, to types.Address, value bn.Number)
}
</code></pre>
</figure>
<p class='with-space'>Every method that sends a <code>receipt</code>  must start with the word &quot;  <code>emit</code>  &quot;, as defined in the Receipt interface. The first word after the word &quot;  <code>emit</code>&quot; is converted to lowercase and must be the name of the receipt struct, which can be used to retrieve from the BCBChain chain. Based on BCBChain contract specification, the SDK supporting tool provided by BCBChain will automatically generate the implementation code for the sending receipt function. Example below:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='//The following functions are automatically generated by the BCBChain tool.
func (mc *Mycoin) emitTransferMyCoin(token, from, to types.Address, value bn.Number) {
    type transferMyCoin struct {
        Token types.Address `json:&quot;token&quot;`
        From types.Address `json:&quot;from&quot;`
        To types.Address `json:&quot;to&quot;`
        Value bn.Number `json:&quot;value&quot;`
    }
    mc.sdk.Helper().ReceiptHelper().Emit(
        transferMycoin{
            Token:   token,
            From:    from,
            To:      to,
            Value:   value,
        })
}

//The following is a sample code for sending a receipt, located in the implementation of the Transfer function.
func (mc *Mycoin) Transfer(to types.Address, value bn.Number) {

    //Business logic code that implements the transfer
    ...

    //Send a transfer receipt
    mc.emitTransferMyCoin(
        mc.sdk.Message().Contract().Address(),
        sender,
        to,
        value)
}'>Copy</button><pre><code class='go' lang='go'>//The following functions are automatically generated by the BCBChain tool.
func (mc *Mycoin) emitTransferMyCoin(token, from, to types.Address, value bn.Number) {
    type transferMyCoin struct {
        Token types.Address `json:&quot;token&quot;`
        From types.Address `json:&quot;from&quot;`
        To types.Address `json:&quot;to&quot;`
        Value bn.Number `json:&quot;value&quot;`
    }
    mc.sdk.Helper().ReceiptHelper().Emit(
        transferMycoin{
            Token:   token,
            From:    from,
            To:      to,
            Value:   value,
        })
}

//The following is a sample code for sending a receipt, located in the implementation of the Transfer function.
func (mc *Mycoin) Transfer(to types.Address, value bn.Number) {

    //Business logic code that implements the transfer
    ...

    //Send a transfer receipt
    mc.emitTransferMyCoin(
        mc.sdk.Message().Contract().Address(),
        sender,
        to,
        value)
}
</code></pre>
</figure>
<h3 id='c395f865'><span class='bd-content-title'>3.9 public:method<a class='anchorjs-link ' href='#c395f865' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<p class='with-space'>The markup <code>public:method</code> is used to identify a public method of the contract.</p>
<p class='with-space'>The valid code following <code>public:method</code>  must be a member function definition of the contract class (one with the  <code>contract</code>markup) The function name must start with an uppercase letter, and it can be executed from BCBChain transaction broadcasts.</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='The BNF paradigm for ```public:method``` is defined as follows:'>Copy</button><pre><code class='public:method```is optional and can appear zero, one or more times throughout the contract code.' lang='public:method```is optional and can appear zero, one or more times throughout the contract code.'>The BNF paradigm for ```public:method``` is defined as follows:
</code></pre>
</figure>
<p class='with-space'>&lt;public:method markup syntax&gt; ::= &quot;//@:public:method:gas[&quot; &lt;gas quantity&gt; &quot;]&quot; &lt;number of gas&gt; ::= [&quot;-&quot;] &lt;decimal number&gt; &lt;decimal number&gt; ::= &lt;decimal number&gt; | &lt;decimal number&gt; &lt;decimal number&gt; &lt;decimal number&gt; ::= &quot;0&quot; | &quot;1&quot; | &quot;2&quot; | &quot;3&quot; | &quot;4&quot; | &quot;5&quot; | &quot;6&quot; | &quot;7&quot; | 8 | &quot;9&quot; ```</p>
<p class='with-space'>Note:</p>
<ul class='with-space'>
<li>
<p class='with-space'>A positive integer number indicates that the gas cost consumed by the method call is paid by the original sender of the transaction;</p></li>
<li>
<p class='with-space'>A gas quantity of 0 means no payment is required;</p></li>
<li>
<p class='with-space'>A negative integer number indicates that the gas cost consumed by the method call is paid by the current smart contract account.</p></li>
</ul>
<p class='with-space'>Example below:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='//@:public:method:gas[500]
func (mc *Mycoin) Transfer(to types.Address, value bn.Number) {
    ...
}'>Copy</button><pre><code class='go' lang='go'>//@:public:method:gas[500]
func (mc *Mycoin) Transfer(to types.Address, value bn.Number) {
    ...
}
</code></pre>
</figure>
<h3 id='d82f4ff6'><span class='bd-content-title'>3.10 public:interface<a class='anchorjs-link ' href='#d82f4ff6' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<p class='with-space'>The markup public:interface ` is used to identify the public interface of the contract.</p>
<p class='with-space'>The valid code following public:interface  <code>must be a member function definition for the contract class (one with the</code>  contract ` markup). The function name must start with an uppercase letter, and can be cross-called from other contracts.</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='The BNF paradigm for```public:interface``` is defined as follows:'>Copy</button><pre><code class='public:interface``` is optional and can appear zero, one or more times throughout the contract code.' lang='public:interface``` is optional and can appear zero, one or more times throughout the contract code.'>The BNF paradigm for```public:interface``` is defined as follows:
</code></pre>
</figure>
<p class='with-space'>&lt;public:interface markup syntax&gt; ::= &quot;//@:public:interface:gas[&quot; &lt;gas quantity&gt; &quot;]&quot; &lt;number of gas&gt; ::= &lt;decimal number&gt; &lt;decimal number&gt; ::= &lt;decimal number&gt; | &lt;decimal number&gt; &lt;decimal number&gt; &lt;decimal number&gt; ::= &quot;0&quot; | &quot;1&quot; | &quot;2&quot; | &quot;3&quot; | &quot;4&quot; | &quot;5&quot; | &quot;6&quot; | &quot;7&quot; | 8 | &quot;9&quot; ```</p>
<p class='with-space'>Example below:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='//@:public:interface:gas[450]
func (mc *Mycoin) Transfer(to types.Address, value bn.Number) {
    ...
}'>Copy</button><pre><code class='go' lang='go'>//@:public:interface:gas[450]
func (mc *Mycoin) Transfer(to types.Address, value bn.Number) {
    ...
}
</code></pre>
</figure>
<p class='with-space'>Note:</p>
<ul class='with-space'>
<li>
<p class='with-space'>The amount of gas must be greater than or equal to zero.</p></li>
</ul>
<p class='with-space'>Markups public:interface  <code>and</code>  public:method `can be used simultaneously on same member function of the contract class. The example above can be written as below:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='//@:public:method:gas[500]
//@:public:interface:gas[450]
func (mc *Mycoin) Transfer(to types.Address, value bn.Number) {
    ...
}'>Copy</button><pre><code class='go' lang='go'>//@:public:method:gas[500]
//@:public:interface:gas[450]
func (mc *Mycoin) Transfer(to types.Address, value bn.Number) {
    ...
}
</code></pre>
</figure>
<h3 id='e4d4d079'><span class='bd-content-title'>3.11 public:mine<a class='anchorjs-link ' href='#e4d4d079' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<p class='with-space'>The markup <code>public:mine</code> is used to identify the mining interface exposed by the contract.</p>
<p class='with-space'>The valid code following <code>public:mine</code>  must be a member function definition for the contract class (one with the  <code>contract</code>  markup). The mining function prototype must be:  <code>func Mine() int64</code>, and it will automatically execute after BCBChain block reaches a consensus.</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='The BNF paradigm for ```public:mine``` is defined as follows:'>Copy</button><pre><code class='public:mine``` is optional and can appear zero or one time throughout the contract code. only the smart contract of the underlying organization of bcbchain is allowed to use this mining interface.' lang='public:mine``` is optional and can appear zero or one time throughout the contract code. only the smart contract of the underlying organization of bcbchain is allowed to use this mining interface.'>The BNF paradigm for ```public:mine``` is defined as follows:
</code></pre>
</figure>
<p class='with-space'>&lt;public:interface tag syntax&gt; ::= &quot;//@:public:mine&quot; ```</p>
<p class='with-space'>Example below:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='//@:public:mine
func (mc *Mycoin) Mine() int64 {
        ...
}'>Copy</button><pre><code class='go' lang='go'>//@:public:mine
func (mc *Mycoin) Mine() int64 {
        ...
}
</code></pre>
</figure>
<p class='with-space'>Note:</p>
<ul class='with-space'>
<li>
<p class='with-space'>The mining function <code>Mine()</code>  can only be used with the markup  <code>public:mine</code>.</p></li>
</ul>
<h3 id='ba818369'><span class='bd-content-title'>3.12 import<a class='anchorjs-link ' href='#ba818369' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<p class='with-space'>The markup <code>import</code> is used to import an interface prototype for an external contract, making it easy to call external contracts from the current contract.</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='The BNF paradigm for ```import``` is defined as follows:'>Copy</button><pre><code class='import```is optional, and can appear multiple times in the entire contract code. each time you import a cross-contract call interface of an external contract, the external contract can only be imported once.' lang='import```is optional, and can appear multiple times in the entire contract code. each time you import a cross-contract call interface of an external contract, the external contract can only be imported once.'>The BNF paradigm for ```import``` is defined as follows:
</code></pre>
</figure>
<p class='with-space'>&lt;import tag syntax&gt; ::= &quot;//@:import:&quot; &lt;contract name&gt; &lt;contract name&gt; ::= &lt;letter&gt; | &lt;contract name&gt; &lt;alphanumeric string&gt; &lt;alphanumeric string&gt; ::= &lt;letter&gt; | &lt;decimal number&gt; | &lt;alphanumeric string&gt; &lt;letter&gt; | &lt;alphanumeric string&gt; &lt;decimal number&gt; &lt;let&gt; ::= &quot;_&quot; | &quot;-&quot; | &quot;.&quot; | &lt;lowercase&gt; | &lt;uppercase&gt; &lt;lowercase letter&gt; ::= &quot;a&quot; | &quot;b&quot; | &quot;c&quot; | &quot;d&quot; | &quot;e&quot; | &quot;f&quot; | &quot;g&quot; | &quot;h&quot; | &quot;i&quot; | &quot;j&quot; |                        &quot;k&quot; | &quot;l&quot; | &quot;m&quot; | &quot;n&quot; | &quot;o&quot; | &quot;p&quot; | &quot;q&quot; | &quot;r&quot; | &quot;s&quot; | &quot;t&quot; |                        &quot;u&quot; | &quot;v&quot; | &quot;w&quot; | &quot;x&quot; | &quot;y&quot; | &quot;z&quot; &lt;Capital letter&gt; ::= &quot;A&quot; | &quot;B&quot; | &quot;C&quot; | &quot;D&quot; | &quot;E&quot; | &quot;F&quot; | &quot;G&quot; | &quot;H&quot; | &quot;I&quot; | &quot;J&quot; |                      &quot;K&quot; | &quot;L&quot; | &quot;M&quot; | &quot;N&quot; | &quot;O&quot; | &quot;P&quot; | &quot;Q&quot; | &quot;R&quot; | &quot;S&quot; | &quot;T&quot; |                      &quot;U&quot; | &quot;V&quot; | &quot;W&quot; | &quot;X&quot; | &quot;Y&quot; | &quot;Z&quot; &lt;decimal number&gt; ::= &quot;0&quot; | &quot;1&quot; | &quot;2&quot; | &quot;3&quot; | &quot;4&quot; | &quot;5&quot; | &quot;6&quot; | &quot;7&quot; | 8 | &quot;9&quot; ```</p>
<p class='with-space'>Using the previous <code>mycoin</code>token contract as an example, if you need to call the contract from other contracts, you need to write the following code:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='//This code is in the contract mycontract

//@:import:mycoin
type mycoin interface {
    Transfer(to types.Address, value bn.Number)
}'>Copy</button><pre><code class='go' lang='go'>//This code is in the contract mycontract

//@:import:mycoin
type mycoin interface {
    Transfer(to types.Address, value bn.Number)
}
</code></pre>
</figure>
<p class='with-space'>The interface name of the external contract is customizable, so long it follows the <code>golang</code> syntax specification.</p>
<p class='with-space'>The interface of the external contract cannot be directly accessed from the contract. According to the BCBChain contract specification, the SDK ` supporting tool provided by BCBChain will automatically generate an implementation function to access the external contract interface. The generated code example is as follows:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='// This code is automatically generated by the SDK supporting tools

//mycoin This is method of MyContract
func (m *MyContract) mycoin() *InterfacemycoinStub {
    return &amp;InterfacemycoinStub{}
}

//Transfer This is a method of InterfacemycoinStub
func (is *InterfacemycoinStub) Transfer(to types.Address, value bn.Number) {
    return
}

//run Transfer some receipts to destination contract
func (is *InterfacemycoinStub) run(f func()) (*InterfacemycoinStub) {
    ...
    f()
    ...
    return is
}

//contract Wrap the destination contract information
func (is *InterfacemycoinStub) contract() IContract {
    ...
    return contract
}'>Copy</button><pre><code class='go' lang='go'>// This code is automatically generated by the SDK supporting tools

//mycoin This is method of MyContract
func (m *MyContract) mycoin() *InterfacemycoinStub {
    return &amp;InterfacemycoinStub{}
}

//Transfer This is a method of InterfacemycoinStub
func (is *InterfacemycoinStub) Transfer(to types.Address, value bn.Number) {
    return
}

//run Transfer some receipts to destination contract
func (is *InterfacemycoinStub) run(f func()) (*InterfacemycoinStub) {
    ...
    f()
    ...
    return is
}

//contract Wrap the destination contract information
func (is *InterfacemycoinStub) contract() IContract {
    ...
    return contract
}
</code></pre>
</figure>
<p class='with-space'>Below is a sample code that calls an external contract in the contract code:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='//This code is in the contract mycontract

func (m *MyContract)TransferTest(to types.Address, value bn.Number) {
    m.mycoin().Transfer(to, value)
}'>Copy</button><pre><code class='go' lang='go'>//This code is in the contract mycontract

func (m *MyContract)TransferTest(to types.Address, value bn.Number) {
    m.mycoin().Transfer(to, value)
}
</code></pre>
</figure>
<p class='with-space'>cross-contract calling support transmit receipts to contract that it&#39;s called, example code in below(from contract2  <code>to call</code>  contract1 `&#39;s interface):</p>
<blockquote class='bd-callout with-space'>
<p class='with-space'>contract1, supply cross-contract interface service:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='//@:contract:contract1
type C1 struct {
  sdk sdk.ISmartContract
  ...
}

//@:public:interface:gas[450]
func (c *C1) Register() {

  //I need receipt from caller
  transfers := dw.sdk.Message().GetTransferToMe()
  sdk.Require(transfers!=nil &amp;&amp; len(transfers)==1,
    types.ErrInvalidParameter, &quot;Please transfer to me first&quot;)

  token := transfers[0].Token
  value := transfers[0].Value

  ...
}'>Copy</button><pre><code class='go' lang='go'>//@:contract:contract1
type C1 struct {
  sdk sdk.ISmartContract
  ...
}

//@:public:interface:gas[450]
func (c *C1) Register() {

  //I need receipt from caller
  transfers := dw.sdk.Message().GetTransferToMe()
  sdk.Require(transfers!=nil &amp;&amp; len(transfers)==1,
    types.ErrInvalidParameter, &quot;Please transfer to me first&quot;)

  token := transfers[0].Token
  value := transfers[0].Value

  ...
}
</code></pre>
</figure>
<p class='with-space'>contract2, cross-contract invoker:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='//@:contract:contract2
type C2 struct {
  sdk sdk.ISmartContract
  ...
}

//@:import:contract1
type mycoin interface {
  Register()
}

//@:public:method:gas[450]
func (c *C2) Register() {
  ...
  c.contract1().run(func(){
    c.sdk.Message().Contract().Account.TransferByName(
      &quot;bcb&quot;,
      c.contract1().contract().Account().Address(),
      bn.N(1000000000),
    )
  }).Register()
  ...
}'>Copy</button><pre><code class='go' lang='go'>//@:contract:contract2
type C2 struct {
  sdk sdk.ISmartContract
  ...
}

//@:import:contract1
type mycoin interface {
  Register()
}

//@:public:method:gas[450]
func (c *C2) Register() {
  ...
  c.contract1().run(func(){
    c.sdk.Message().Contract().Account.TransferByName(
      &quot;bcb&quot;,
      c.contract1().contract().Account().Address(),
      bn.N(1000000000),
    )
  }).Register()
  ...
}
</code></pre>
</figure>
</blockquote>
<h2 id='ecd7649f'><span class='bd-content-title'>4. Contract Specification<a class='anchorjs-link ' href='#ecd7649f' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h2>
<h3 id='b0cf00bd'><span class='bd-content-title'>4.1 BNF Paradigm Definition<a class='anchorjs-link ' href='#b0cf00bd' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<p class='with-space'>Combining the above description of the contract mark, the following defines the BNF ` paradigm of the contract specification:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='&lt;BCBChain Smart Contract&gt; ::= &lt;Contract Definition Code File&gt; {&lt;Contract Implementation Code File&gt;} {&lt;Contract Test Code File&gt;}

&lt;Contract Definition Code File&gt; ::= &lt;Code Package Definition&gt; &lt;Contract Definition Code&gt;
&lt;contract implementation code file&gt; ::= &lt;code package definition&gt; &lt;contract implementation code&gt;
&lt;Contract Test Code File&gt; ::= &lt;Code Package Definition&gt; &lt;Contract Test Code&gt;
&lt;code package definition&gt; ::= &quot;package&quot; &lt;contract package name&gt;
&lt;contract package name&gt; ::= follows the glang syntax specification
&lt;contract definition code&gt; ::= &quot;import (&quot;
                     &lt;Contract SDK root path&gt;
                     {[package alias] &lt;contract support code package path&gt;}
                 &quot;)&quot;
 &lt;contract class definition&gt;
                 [&lt;Contracting chain initialization function definition&gt;]
                 [&lt;mining definition&gt;]
                 [&lt;Contract Receipt Definition&gt;]
                 {&lt;Cross-contract call interface definition&gt;}
                 {&lt;Contract public function definition&gt;}
                 {&lt;contract implementation code&gt;}
&lt;contract SDK root path&gt; ::= double_quote &quot;blockchain/smcsdk/sdk&quot; double_quote
&lt;Contract Support Code Package Path&gt; ::= Follow the golang code package path specification, follow the whitelist and graylist specifications of the BCBChain contract specification
&lt;package alias&gt; ::= Code package alias that follows the golang code specification, cannot use &#39;.&#39;
&lt;contract implementation code&gt; ::= Contract implementation code that follows the golang code specification (code that does not require BCBChain contract tags), including type definitions,
                 Constant definition, function definition (Note: can not contain global variable definition, do not allow the use of the for keyword, does not allow recursion
                 transfer)
&lt;contract test code&gt; ::= Test code that follows the golang unit test specification

&lt;contract class definition&gt; ::= &quot;//@:contract:&quot; &lt;contract name&gt;
               &quot;//@:version:&quot; &lt;contract version&gt;
               &quot;//@:organization:&quot; &lt;organization ID&gt;
               &quot;//@:author:&quot; &lt;account public key&gt;
               &quot;type&quot; &lt;contract class name&gt; &quot; struct {&quot;
               &quot; sdk sdk.ISmartContract&quot;
                   {&lt;state variable definition&gt;}
   {&lt;golang variable definition&gt;}
               &quot;}&quot;
&lt;contract name&gt; ::= See &lt;contract mark: contract&gt;
&lt;contract version&gt; ::= See &lt;contract mark: version&gt;
&lt;Organization ID&gt; ::= See &lt;Contract Mark: organization&gt;
&lt;account public key&gt; ::= See &lt;contract mark: author&gt;
&lt;contract class name&gt; ::= &lt;identifier at the beginning of uppercase letter&gt;
&lt;golang variable definition&gt; ::= Standard variable definition code that follows the golang code specification
&lt;state variable definition&gt; ::= &lt;basic state variable definition&gt; | &lt;state variable definition with cache&gt;
&lt;Basic state variable definition&gt; ::= &quot;//@:public:store&quot;
                        &lt;variable name&gt; [&quot;*&quot;] &lt;variable type&gt;
&lt;state variable definition with cache&gt; ::= &quot;//@:public:store:cache&quot;
                           &lt;variable name&gt; [&quot;*&quot;] &lt;variable type&gt;
&lt;variable name&gt; ::= &lt;identifier&gt;
&lt;variable type&gt; ::= &lt;metadata type&gt; | &lt;array type&gt; | &lt;map table type&gt;

&lt;Contracting chain initialization function definition&gt; ::= &lt;deployment function&gt; | &lt;upgrade function&gt;
&lt;deployment function&gt; ::= &quot;//@:constructor&quot;
              &quot;func (&quot; &lt;contract object definition&gt; &quot;) InitChain() {&quot;
                &lt;winding code&gt;
              &quot;}&quot;
&lt;upgrade function&gt; ::= &quot;//@:constructor&quot;
              &quot;func (&quot; &lt;contract object definition&gt; &quot;) UpdateChain() {&quot;
                &lt;winding code&gt;
              &quot;}&quot;
&lt; Mining definition&gt; ::= &quot;//@:public:mine&quot;
              &quot;func (&quot; &lt;contract object definition&gt; &quot;) Mine() {&quot;
                &lt;mining code&gt;
              &quot;}&quot;
&lt;contract object definition&gt; ::= &lt;variable name&gt; &quot;*&quot; &lt;contract class name&gt;
&lt;winding code&gt; ::= &lt;golang function body&gt;
              Note 1: Only access to state variables is allowed
              Note 2: Access to Message() and Tx() is not allowed in sdk
&lt;mining code&gt; ::= &lt;golang function body&gt;
              Note 1: Access to Message() and Tx() is not allowed in sdk
&lt;golang function body&gt; ::= Following the implementation of the body of the golang code specification, see the definition of &lt;contract implementation code&gt;

&lt;Contract Receipt Definition&gt; ::= &quot;//@:public:receipt&quot;
                 &quot;type receipt interface {&quot;
                     &lt;receipt function name&gt; &lt;function entry parameter definition&gt;
                 &quot;}&quot;
&lt;receipt function name&gt; ::= &quot;emit&quot; &lt;identifier at the beginning of uppercase letters&gt;
&lt;function entry parameter definition&gt; ::= &quot;(&quot; &lt;parameter table&gt; &quot;)&quot;
&lt;Parameter Table&gt; ::= &lt;Parameter Definition&gt; | &lt;Parameter Table&gt; &quot;,&quot; &lt;Parameter Definition&gt;
&lt;parameter definition&gt; ::= &lt;variable name&gt; [&quot;*&quot;] &lt;variable type&gt;

&lt;Cross-contract call interface definition&gt; ::= &quot;//@:import:&quot; &lt;contract name&gt;
                      &quot;type &quot;&lt;interface class name&gt;&quot; interface {&quot;
                             &lt;interface function name&gt; &lt;function entry parameter definition&gt; &lt;function return definition&gt;
                      &quot;}&quot;
&lt;interface class name&gt; ::= &lt;identifier at the beginning of uppercase letters&gt;
&lt;interface function name&gt; ::= &lt;identifier at the beginning of uppercase letter&gt;
&lt;function return definition&gt; ::= &lt;empty&gt; | [&quot;*&quot;] &lt;variable type&gt; | &quot;(&quot; &lt;return table&gt; &quot;)&quot;
&lt;empty&gt; ::= blank
&lt;back to table&gt; ::= &lt;return definition&gt; | &lt;return table&gt; &quot;,&quot; &lt;return definition&gt;
&lt;return definition&gt; ::= [&lt;variable name&gt;] [&quot;*&quot;] &lt;variable type&gt;

&lt;Contract public function definition&gt; ::=[&lt;contract public method tag&gt;]
                   [&lt;Contract Public Interface Tag&gt;]
                &quot;func (&quot; &lt;contract object definition&gt; &quot;)&quot; &lt;public function name&gt; &lt;function entry parameter definition&gt; &lt;function return definition&gt; &quot;{&quot;
                     &lt;golang function body&gt;
                &quot;}&quot;
&lt;Contract public method tag&gt; ::= &quot;//@:public:method:gas[ &quot;&lt;gas quantity&gt; &quot;]&quot;
&lt;Contract public interface tag&gt; ::= &quot;//@:public:interface:gas[ &quot;&lt;gas quantity&gt; &quot;]&quot;
&lt;number of gas&gt; ::= See &lt;contract mark: public:method&gt;
&lt;public function name&gt; ::= &lt;identifier at the beginning of uppercase letter&gt;

&lt;identifier&gt; ::= &lt;letter&gt; | &lt;identifier&gt; &lt;alphanumeric string&gt;
&lt;identifier at the beginning of uppercase letters&gt; ::= &lt;capital letter&gt; | &lt;identifier at the beginning of uppercase letter&gt; &lt;alphanumeric string&gt;
&lt;alphanumeric string&gt; ::= &lt;letter&gt; | &lt;decimal number&gt; | &lt;alphanumeric string&gt; &lt;letter&gt; | &lt;alphanumeric string&gt; &lt;decimal number&gt;
&lt;letter&gt; ::= &quot;_&quot; | &lt;lowercase&gt; | &lt;uppercase letter&gt;
&lt;lowercase letter&gt; ::= &quot;a&quot; | &quot;b&quot; | &quot;c&quot; | &quot;d&quot; | &quot;e&quot; | &quot;f&quot; | &quot;g&quot; | &quot;h&quot; | &quot;i&quot; | &quot;j&quot; | &quot;k&quot; | &quot;l&quot; |
              &quot;m&quot; | &quot;n&quot; | &quot;o&quot; | &quot;p&quot; | &quot;q&quot; | &quot;r&quot; | &quot;s&quot; | &quot;t&quot; | &quot;u&quot; | &quot;v&quot; | &quot;w&quot; | &quot;x&quot; |
              &quot;y&quot; | &quot;z&quot;
&lt;Capital letter&gt; ::= &quot;A&quot; | &quot;B&quot; | &quot;C&quot; | &quot;D&quot; | &quot;E&quot; | &quot;F&quot; | &quot;G&quot; | &quot;H&quot; | &quot;I&quot; | &quot;J&quot; | &quot;K&quot; | &quot;L&quot; |
              &quot;M&quot; | &quot;N&quot; | &quot;O&quot; | &quot;P&quot; | &quot;Q&quot; | &quot;R&quot; | &quot;S&quot; | &quot;T&quot; | &quot;U&quot; | &quot;V&quot; | &quot;W&quot; | &quot;X&quot; |
              &quot;Y&quot; | &quot;Z&quot;
&lt;decimal number&gt; ::= &quot;0&quot; | &quot;1&quot; | &quot;2&quot; | &quot;3&quot; | &quot;4&quot; | &quot;5&quot; | &quot;6&quot; | &quot;7&quot; | 8 | &quot;9&quot;
&lt;decimal number&gt; ::= &lt;decimal number&gt; | &lt;decimal number&gt; &lt;decimal number&gt;

&lt;metadata type&gt; := &lt;golang built-in type&gt; | &lt;SDK built-in type&gt; | &lt;custom data structure&gt;
&lt;golang built-in type&gt; ::= &quot;int&quot; | &quot;int8&quot; | &quot;int16&quot; | &quot;int32&quot; | &quot;int64&quot; |
                    &quot;uint&quot; | &quot;uint8&quot; | &quot;uint16&quot; | &quot;uint32&quot; | &quot;uint64&quot; |
                    &quot;bool&quot; | &quot;string&quot; | &quot;byte&quot;
&lt;SDK built-in type&gt; ::= &lt;Address&gt; | &lt;HexBytes&gt; | &lt;Hash&gt; | &lt;PubKey&gt; | &lt;Number&gt;
&lt;Address&gt; ::= &quot;types.Address&quot;
&lt;HexBytes&gt; ::= &quot;types.HexBytes&quot;
&lt;Hash&gt; ::= &quot;types.Hash&quot;
&lt;PubKey&gt; ::= &quot;types.PubKey&quot;
&lt;Number&gt; ::= &quot;bn.Number&quot;
&lt;custom data structure&gt; ::= &quot;type&quot; &lt;identifier&gt; &quot; struct {&quot;
                      {&lt;variable name&gt; [&quot;*&quot;] &lt;variable type&gt;}
                  &quot;}&quot;
&lt;array type&gt; ::= &lt;array dimension definition&gt; [&lt;array dimension definition&gt;] &lt;metadata type&gt;
&lt;array dimension definition&gt; ::= &quot;[&quot; [&lt;decimal number&gt;] &quot;]&quot;
&lt;map table type&gt; ::= &lt;map table type 1&gt; | &lt;map table type 2&gt;
&lt;map table type 1&gt; ::= &lt;map table definition&gt; [&lt;map table definition&gt;] &lt;metadata type&gt;
&lt;map table type 2&gt; ::= &lt;map table definition&gt; [&lt;map table definition&gt;] &lt;array type&gt;
&lt;map table definition&gt; ::= &quot;map[&quot; &lt;metadata type&gt; &quot;]&quot;'>Copy</button><pre><code class='go' lang='go'>&lt;BCBChain Smart Contract&gt; ::= &lt;Contract Definition Code File&gt; {&lt;Contract Implementation Code File&gt;} {&lt;Contract Test Code File&gt;}

&lt;Contract Definition Code File&gt; ::= &lt;Code Package Definition&gt; &lt;Contract Definition Code&gt;
&lt;contract implementation code file&gt; ::= &lt;code package definition&gt; &lt;contract implementation code&gt;
&lt;Contract Test Code File&gt; ::= &lt;Code Package Definition&gt; &lt;Contract Test Code&gt;
&lt;code package definition&gt; ::= &quot;package&quot; &lt;contract package name&gt;
&lt;contract package name&gt; ::= follows the glang syntax specification
&lt;contract definition code&gt; ::= &quot;import (&quot;
                     &lt;Contract SDK root path&gt;
                     {[package alias] &lt;contract support code package path&gt;}
                 &quot;)&quot;
 &lt;contract class definition&gt;
                 [&lt;Contracting chain initialization function definition&gt;]
                 [&lt;mining definition&gt;]
                 [&lt;Contract Receipt Definition&gt;]
                 {&lt;Cross-contract call interface definition&gt;}
                 {&lt;Contract public function definition&gt;}
                 {&lt;contract implementation code&gt;}
&lt;contract SDK root path&gt; ::= double_quote &quot;blockchain/smcsdk/sdk&quot; double_quote
&lt;Contract Support Code Package Path&gt; ::= Follow the golang code package path specification, follow the whitelist and graylist specifications of the BCBChain contract specification
&lt;package alias&gt; ::= Code package alias that follows the golang code specification, cannot use &#39;.&#39;
&lt;contract implementation code&gt; ::= Contract implementation code that follows the golang code specification (code that does not require BCBChain contract tags), including type definitions,
                 Constant definition, function definition (Note: can not contain global variable definition, do not allow the use of the for keyword, does not allow recursion
                 transfer)
&lt;contract test code&gt; ::= Test code that follows the golang unit test specification

&lt;contract class definition&gt; ::= &quot;//@:contract:&quot; &lt;contract name&gt;
               &quot;//@:version:&quot; &lt;contract version&gt;
               &quot;//@:organization:&quot; &lt;organization ID&gt;
               &quot;//@:author:&quot; &lt;account public key&gt;
               &quot;type&quot; &lt;contract class name&gt; &quot; struct {&quot;
               &quot; sdk sdk.ISmartContract&quot;
                   {&lt;state variable definition&gt;}
   {&lt;golang variable definition&gt;}
               &quot;}&quot;
&lt;contract name&gt; ::= See &lt;contract mark: contract&gt;
&lt;contract version&gt; ::= See &lt;contract mark: version&gt;
&lt;Organization ID&gt; ::= See &lt;Contract Mark: organization&gt;
&lt;account public key&gt; ::= See &lt;contract mark: author&gt;
&lt;contract class name&gt; ::= &lt;identifier at the beginning of uppercase letter&gt;
&lt;golang variable definition&gt; ::= Standard variable definition code that follows the golang code specification
&lt;state variable definition&gt; ::= &lt;basic state variable definition&gt; | &lt;state variable definition with cache&gt;
&lt;Basic state variable definition&gt; ::= &quot;//@:public:store&quot;
                        &lt;variable name&gt; [&quot;*&quot;] &lt;variable type&gt;
&lt;state variable definition with cache&gt; ::= &quot;//@:public:store:cache&quot;
                           &lt;variable name&gt; [&quot;*&quot;] &lt;variable type&gt;
&lt;variable name&gt; ::= &lt;identifier&gt;
&lt;variable type&gt; ::= &lt;metadata type&gt; | &lt;array type&gt; | &lt;map table type&gt;

&lt;Contracting chain initialization function definition&gt; ::= &lt;deployment function&gt; | &lt;upgrade function&gt;
&lt;deployment function&gt; ::= &quot;//@:constructor&quot;
              &quot;func (&quot; &lt;contract object definition&gt; &quot;) InitChain() {&quot;
                &lt;winding code&gt;
              &quot;}&quot;
&lt;upgrade function&gt; ::= &quot;//@:constructor&quot;
              &quot;func (&quot; &lt;contract object definition&gt; &quot;) UpdateChain() {&quot;
                &lt;winding code&gt;
              &quot;}&quot;
&lt; Mining definition&gt; ::= &quot;//@:public:mine&quot;
              &quot;func (&quot; &lt;contract object definition&gt; &quot;) Mine() {&quot;
                &lt;mining code&gt;
              &quot;}&quot;
&lt;contract object definition&gt; ::= &lt;variable name&gt; &quot;*&quot; &lt;contract class name&gt;
&lt;winding code&gt; ::= &lt;golang function body&gt;
              Note 1: Only access to state variables is allowed
              Note 2: Access to Message() and Tx() is not allowed in sdk
&lt;mining code&gt; ::= &lt;golang function body&gt;
              Note 1: Access to Message() and Tx() is not allowed in sdk
&lt;golang function body&gt; ::= Following the implementation of the body of the golang code specification, see the definition of &lt;contract implementation code&gt;

&lt;Contract Receipt Definition&gt; ::= &quot;//@:public:receipt&quot;
                 &quot;type receipt interface {&quot;
                     &lt;receipt function name&gt; &lt;function entry parameter definition&gt;
                 &quot;}&quot;
&lt;receipt function name&gt; ::= &quot;emit&quot; &lt;identifier at the beginning of uppercase letters&gt;
&lt;function entry parameter definition&gt; ::= &quot;(&quot; &lt;parameter table&gt; &quot;)&quot;
&lt;Parameter Table&gt; ::= &lt;Parameter Definition&gt; | &lt;Parameter Table&gt; &quot;,&quot; &lt;Parameter Definition&gt;
&lt;parameter definition&gt; ::= &lt;variable name&gt; [&quot;*&quot;] &lt;variable type&gt;

&lt;Cross-contract call interface definition&gt; ::= &quot;//@:import:&quot; &lt;contract name&gt;
                      &quot;type &quot;&lt;interface class name&gt;&quot; interface {&quot;
                             &lt;interface function name&gt; &lt;function entry parameter definition&gt; &lt;function return definition&gt;
                      &quot;}&quot;
&lt;interface class name&gt; ::= &lt;identifier at the beginning of uppercase letters&gt;
&lt;interface function name&gt; ::= &lt;identifier at the beginning of uppercase letter&gt;
&lt;function return definition&gt; ::= &lt;empty&gt; | [&quot;*&quot;] &lt;variable type&gt; | &quot;(&quot; &lt;return table&gt; &quot;)&quot;
&lt;empty&gt; ::= blank
&lt;back to table&gt; ::= &lt;return definition&gt; | &lt;return table&gt; &quot;,&quot; &lt;return definition&gt;
&lt;return definition&gt; ::= [&lt;variable name&gt;] [&quot;*&quot;] &lt;variable type&gt;

&lt;Contract public function definition&gt; ::=[&lt;contract public method tag&gt;]
                   [&lt;Contract Public Interface Tag&gt;]
                &quot;func (&quot; &lt;contract object definition&gt; &quot;)&quot; &lt;public function name&gt; &lt;function entry parameter definition&gt; &lt;function return definition&gt; &quot;{&quot;
                     &lt;golang function body&gt;
                &quot;}&quot;
&lt;Contract public method tag&gt; ::= &quot;//@:public:method:gas[ &quot;&lt;gas quantity&gt; &quot;]&quot;
&lt;Contract public interface tag&gt; ::= &quot;//@:public:interface:gas[ &quot;&lt;gas quantity&gt; &quot;]&quot;
&lt;number of gas&gt; ::= See &lt;contract mark: public:method&gt;
&lt;public function name&gt; ::= &lt;identifier at the beginning of uppercase letter&gt;

&lt;identifier&gt; ::= &lt;letter&gt; | &lt;identifier&gt; &lt;alphanumeric string&gt;
&lt;identifier at the beginning of uppercase letters&gt; ::= &lt;capital letter&gt; | &lt;identifier at the beginning of uppercase letter&gt; &lt;alphanumeric string&gt;
&lt;alphanumeric string&gt; ::= &lt;letter&gt; | &lt;decimal number&gt; | &lt;alphanumeric string&gt; &lt;letter&gt; | &lt;alphanumeric string&gt; &lt;decimal number&gt;
&lt;letter&gt; ::= &quot;_&quot; | &lt;lowercase&gt; | &lt;uppercase letter&gt;
&lt;lowercase letter&gt; ::= &quot;a&quot; | &quot;b&quot; | &quot;c&quot; | &quot;d&quot; | &quot;e&quot; | &quot;f&quot; | &quot;g&quot; | &quot;h&quot; | &quot;i&quot; | &quot;j&quot; | &quot;k&quot; | &quot;l&quot; |
              &quot;m&quot; | &quot;n&quot; | &quot;o&quot; | &quot;p&quot; | &quot;q&quot; | &quot;r&quot; | &quot;s&quot; | &quot;t&quot; | &quot;u&quot; | &quot;v&quot; | &quot;w&quot; | &quot;x&quot; |
              &quot;y&quot; | &quot;z&quot;
&lt;Capital letter&gt; ::= &quot;A&quot; | &quot;B&quot; | &quot;C&quot; | &quot;D&quot; | &quot;E&quot; | &quot;F&quot; | &quot;G&quot; | &quot;H&quot; | &quot;I&quot; | &quot;J&quot; | &quot;K&quot; | &quot;L&quot; |
              &quot;M&quot; | &quot;N&quot; | &quot;O&quot; | &quot;P&quot; | &quot;Q&quot; | &quot;R&quot; | &quot;S&quot; | &quot;T&quot; | &quot;U&quot; | &quot;V&quot; | &quot;W&quot; | &quot;X&quot; |
              &quot;Y&quot; | &quot;Z&quot;
&lt;decimal number&gt; ::= &quot;0&quot; | &quot;1&quot; | &quot;2&quot; | &quot;3&quot; | &quot;4&quot; | &quot;5&quot; | &quot;6&quot; | &quot;7&quot; | 8 | &quot;9&quot;
&lt;decimal number&gt; ::= &lt;decimal number&gt; | &lt;decimal number&gt; &lt;decimal number&gt;

&lt;metadata type&gt; := &lt;golang built-in type&gt; | &lt;SDK built-in type&gt; | &lt;custom data structure&gt;
&lt;golang built-in type&gt; ::= &quot;int&quot; | &quot;int8&quot; | &quot;int16&quot; | &quot;int32&quot; | &quot;int64&quot; |
                    &quot;uint&quot; | &quot;uint8&quot; | &quot;uint16&quot; | &quot;uint32&quot; | &quot;uint64&quot; |
                    &quot;bool&quot; | &quot;string&quot; | &quot;byte&quot;
&lt;SDK built-in type&gt; ::= &lt;Address&gt; | &lt;HexBytes&gt; | &lt;Hash&gt; | &lt;PubKey&gt; | &lt;Number&gt;
&lt;Address&gt; ::= &quot;types.Address&quot;
&lt;HexBytes&gt; ::= &quot;types.HexBytes&quot;
&lt;Hash&gt; ::= &quot;types.Hash&quot;
&lt;PubKey&gt; ::= &quot;types.PubKey&quot;
&lt;Number&gt; ::= &quot;bn.Number&quot;
&lt;custom data structure&gt; ::= &quot;type&quot; &lt;identifier&gt; &quot; struct {&quot;
                      {&lt;variable name&gt; [&quot;*&quot;] &lt;variable type&gt;}
                  &quot;}&quot;
&lt;array type&gt; ::= &lt;array dimension definition&gt; [&lt;array dimension definition&gt;] &lt;metadata type&gt;
&lt;array dimension definition&gt; ::= &quot;[&quot; [&lt;decimal number&gt;] &quot;]&quot;
&lt;map table type&gt; ::= &lt;map table type 1&gt; | &lt;map table type 2&gt;
&lt;map table type 1&gt; ::= &lt;map table definition&gt; [&lt;map table definition&gt;] &lt;metadata type&gt;
&lt;map table type 2&gt; ::= &lt;map table definition&gt; [&lt;map table definition&gt;] &lt;array type&gt;
&lt;map table definition&gt; ::= &quot;map[&quot; &lt;metadata type&gt; &quot;]&quot;
</code></pre>
</figure>
<h3 id='fa339b9b'><span class='bd-content-title'>4.2 Package Specification<a class='anchorjs-link ' href='#fa339b9b' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<p class='with-space'>The BNF paradigm for defining the contract package structure is as follows:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='&lt;Smart Contract Package Structure&gt; ::= &lt;Contract Definition Code File&gt; {&lt;Contract Implementation Code File&gt;} {&lt;Contract Test Code File&gt;}
&lt;Contract Definition Code File&gt; ::= &lt;Contract Code Directory&gt; &quot;/&quot; &lt;golang Implementation Code File Name&gt;
&lt;contract implementation code file&gt; ::= &lt;contract code directory&gt; &quot;/&quot; &lt;golang implementation code file name&gt;
&lt;Contract Test Code File&gt; ::= &lt;Contract Code Directory&gt; &quot;/&quot; &lt;golang test code file name&gt;
&lt;contract code directory&gt; ::= &lt;GOPATH&gt; &quot;/&quot; &lt;contract root directory&gt; &quot;/&quot; &lt;contract name&gt; &quot;/v&quot; &lt;contract version&gt; &quot;/&quot; &lt;contract name&gt;
&lt;GOPATH&gt; ::= golang standard environment variable GOPATH points to the directory
&lt;contract root directory&gt; ::= &quot;src/contract/&quot; &lt;organization ID&gt; &quot;/code&quot;
&lt;Organization ID&gt; ::= See &lt;Contract Mark: organization&gt;
&lt;golang implementation code file name&gt; ::= &lt;legal file name&gt; &quot;.go&quot;
&lt;golang test code file name&gt; ::= &lt;legal file name&gt; &quot;_test.go&quot;
&lt;arbitrary file name&gt; ::= &lt;legal file name&gt;|&lt;illegal file name&gt;
&lt;Illegal file name&gt; ::= [&lt;legal file name&gt;] &quot;autogen&quot; [&lt;legal file name&gt;] | &lt;arbitrary file name&gt; &quot;_test&quot;
&lt;legal file name&gt; ::= Exclude &lt;illegal file name&gt; after all operating systems recognize the string as the file name'>Copy</button><pre><code class='go' lang='go'>&lt;Smart Contract Package Structure&gt; ::= &lt;Contract Definition Code File&gt; {&lt;Contract Implementation Code File&gt;} {&lt;Contract Test Code File&gt;}
&lt;Contract Definition Code File&gt; ::= &lt;Contract Code Directory&gt; &quot;/&quot; &lt;golang Implementation Code File Name&gt;
&lt;contract implementation code file&gt; ::= &lt;contract code directory&gt; &quot;/&quot; &lt;golang implementation code file name&gt;
&lt;Contract Test Code File&gt; ::= &lt;Contract Code Directory&gt; &quot;/&quot; &lt;golang test code file name&gt;
&lt;contract code directory&gt; ::= &lt;GOPATH&gt; &quot;/&quot; &lt;contract root directory&gt; &quot;/&quot; &lt;contract name&gt; &quot;/v&quot; &lt;contract version&gt; &quot;/&quot; &lt;contract name&gt;
&lt;GOPATH&gt; ::= golang standard environment variable GOPATH points to the directory
&lt;contract root directory&gt; ::= &quot;src/contract/&quot; &lt;organization ID&gt; &quot;/code&quot;
&lt;Organization ID&gt; ::= See &lt;Contract Mark: organization&gt;
&lt;golang implementation code file name&gt; ::= &lt;legal file name&gt; &quot;.go&quot;
&lt;golang test code file name&gt; ::= &lt;legal file name&gt; &quot;_test.go&quot;
&lt;arbitrary file name&gt; ::= &lt;legal file name&gt;|&lt;illegal file name&gt;
&lt;Illegal file name&gt; ::= [&lt;legal file name&gt;] &quot;autogen&quot; [&lt;legal file name&gt;] | &lt;arbitrary file name&gt; &quot;_test&quot;
&lt;legal file name&gt; ::= Exclude &lt;illegal file name&gt; after all operating systems recognize the string as the file name
</code></pre>
</figure>
<p class='with-space'>Note: The white space interval that appears in the specification definition is only required for typesetting and is not part of the specification.</p>
<h3 id='ecfbe0e4'><span class='bd-content-title'>4.3 Whitelist<a class='anchorjs-link ' href='#ecfbe0e4' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<p class='with-space'>For security reasons, the BCBChain Smart Contract is limited to allow only packages that follow explicit import behaviour and do not produce inconsistent results for different nodes. Such packages are included in the whitelist.</p>
<p class='with-space'>The code packages supported in the whitelist are safe to use in smart contracts.</p>
<p class='with-space'>The specific contents of the whitelist and graylist will be different with the upgrade of the smart contract <code>SDK</code>  and the matching BCBChain plugin version. For details, please refer to the related documents of the smart contract  <code>SDK</code> and the matching BCBChain plugin.</p>
<p class='with-space'>Below is the first version of the whitelist:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='//The following are available golang ID packages
bytes
container/heap
container/list
container/ring
crypto
crypto/aes
crypto/cipher
crypto/des
crypto/hmac
crypto/md5
crypto/rc4
crypto/sha1
crypto/sha256
crypto/sha512
encoding
encoding/ascii85
encoding/asn1
encoding/base32
encoding/base64
encoding/binary
encoding/csv
encoding/gob
encoding/hex
encoding/json
encoding/pem
encoding/xml
errors
fmt
hash
hash/adler32
hash/crc32
hash/crc64
hash/fnv
index/suffixarray
math
math/big
math/bits
math/cmplx
reflect
regexp
regexp/syntax
sort
strconv
strings
unicode
unicode/utf16
unicode/utf8

//Below is standard package for the SDK
blockchain/smcsdk/sdk'>Copy</button><pre><code class='go' lang='go'>//The following are available golang ID packages
bytes
container/heap
container/list
container/ring
crypto
crypto/aes
crypto/cipher
crypto/des
crypto/hmac
crypto/md5
crypto/rc4
crypto/sha1
crypto/sha256
crypto/sha512
encoding
encoding/ascii85
encoding/asn1
encoding/base32
encoding/base64
encoding/binary
encoding/csv
encoding/gob
encoding/hex
encoding/json
encoding/pem
encoding/xml
errors
fmt
hash
hash/adler32
hash/crc32
hash/crc64
hash/fnv
index/suffixarray
math
math/big
math/bits
math/cmplx
reflect
regexp
regexp/syntax
sort
strconv
strings
unicode
unicode/utf16
unicode/utf8

//Below is standard package for the SDK
blockchain/smcsdk/sdk
</code></pre>
</figure>
<h2 id='ab926cde'><span class='bd-content-title'>5. BRC20 Token<a class='anchorjs-link ' href='#ab926cde' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h2>
<p class='with-space'>The smart contract &quot;Token&quot; issued in Section 2.1.2 of this guide is a sample token contract, not a BRC20 ` token that complies with the BCBChain standard.</p>
<p class='with-space'>Users of BCBChain can write their own smart contracts to issue tokens that comply with the <code>BRC20</code>  token specification. This section defines smart contracts that comply with the  <code>BRC20</code> token specification.</p>
<p class='with-space'>The specification is described as follows:</p>
<ul class='with-space'>
<li>
<p class='with-space'>The contract must explicitly call the interface provided by the Smart Contract SDK <code>ITokenHelper::RegisterToken(...)</code> to register a new token with BCBChain (each smart contract can only register one token);</p></li>
<li>
<p class='with-space'>The contract registration token will automatically record a standard token generation receipt on BCBChain. The receipt is defined as follows:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='import ( 
  &quot;blockchain/smcsdk/sdk/bn&quot; 
  &quot;blockchain/smcsdk/sdk/types&quot; 
)

// Name of receipt: std::newToken 
type NewToken struct { 
  TokenAddress     types.Address `json:&quot;tokenAddr&quot;`     // Token Address 
  ContractAddress  types.Address `json:&quot;contractAddr&quot;`  // Coin Contract Address 
  Owner            types.Address `json:&quot;owner&quot;`         // Token Owner’s external account address 
  Name             string      `json:&quot;name&quot;`            // Token Name 
  Symbol           string      `json:&quot;symbol&quot;`          // Token Symbol 
  TotalSupply      bn.Number   `json:&quot;totalSupply&quot;`     // Total Token Supply 
  AddSupplyEnabled bool        `json:&quot;addSupplyEnabled&quot;`// Whether additional issuance is supported 
  BurnEnabled      bool        `json:&quot;burnEnabled&quot;`     // Whether burn is enabled 
  GasPrice         int64       `json:&quot;gasPrice&quot;`        // Gas Price 
} '>Copy</button><pre><code class='go' lang='go'>import ( 
  &quot;blockchain/smcsdk/sdk/bn&quot; 
  &quot;blockchain/smcsdk/sdk/types&quot; 
)

// Name of receipt: std::newToken 
type NewToken struct { 
  TokenAddress     types.Address `json:&quot;tokenAddr&quot;`     // Token Address 
  ContractAddress  types.Address `json:&quot;contractAddr&quot;`  // Coin Contract Address 
  Owner            types.Address `json:&quot;owner&quot;`         // Token Owner’s external account address 
  Name             string      `json:&quot;name&quot;`            // Token Name 
  Symbol           string      `json:&quot;symbol&quot;`          // Token Symbol 
  TotalSupply      bn.Number   `json:&quot;totalSupply&quot;`     // Total Token Supply 
  AddSupplyEnabled bool        `json:&quot;addSupplyEnabled&quot;`// Whether additional issuance is supported 
  BurnEnabled      bool        `json:&quot;burnEnabled&quot;`     // Whether burn is enabled 
  GasPrice         int64       `json:&quot;gasPrice&quot;`        // Gas Price 
} 
</code></pre>
</figure></li>
<li>
<p class='with-space'>The contract must implement the methods and interfaces defined in this section</p></li>
</ul>
<h3 id='d659f464'><span class='bd-content-title'>5.1 Transfer<a class='anchorjs-link ' href='#d659f464' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<p class='with-space'> <strong>Method prototype</strong> </p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='import (
    &quot;blockchain/smcsdk/sdk/bn&quot;
    &quot;blockchain/smcsdk/sdk/types&quot;
)

//@:public:method:gas[500]
//@:public:interface:gas[450]
Transfer(types.Address,bn.Number)'>Copy</button><pre><code class='go' lang='go'>import (
    &quot;blockchain/smcsdk/sdk/bn&quot;
    &quot;blockchain/smcsdk/sdk/types&quot;
)

//@:public:method:gas[500]
//@:public:interface:gas[450]
Transfer(types.Address,bn.Number)
</code></pre>
</figure>
<p class='with-space'> <strong>Function Description</strong> </p>
<ul class='with-space'>
<li>
<p class='with-space'>Execute the token transfer</p></li>
</ul>
<p class='with-space'> <strong>Implementation note</strong> </p>
<ul class='with-space'>
<li>
<p class='with-space'>Must be implemented</p></li>
<li>
<p class='with-space'>Must be marked with markup public:method `；</p></li>
<li>
<p class='with-space'>Must be marked with markup public:interface `.</p></li>
</ul>
<p class='with-space'> <strong>Usage note</strong> </p>
<ul class='with-space'>
<li>
<p class='with-space'>Allows calls from transaction broadcasts;</p></li>
<li>
<p class='with-space'>Allows cross-contract calls with other smart contracts of the organization;</p></li>
<li>
<p class='with-space'>Allows other smart contracts with the organization to be called directly via the interface provided by the SDK, <code>IAccount::Transfer</code>  (the underlying  <code>SDK</code> automatically performs cross-contract calls).</p></li>
</ul>
<p class='with-space'> <strong>Input Parameters</strong> </p>
<ul class='with-space'>
<li>
<p class='with-space'>_to types.Address Token recipient address (can be external account address, contract account address, contract address)</p></li>
<li>
<p class='with-space'>_value bn.Number Token transfer amount (Unit: Cong)</p></li>
</ul>
<p class='with-space'>Note: If the recipient address is a contract address, the received token will be automatically transferred to the account address of the contract.</p>
<p class='with-space'> <strong>Receipt Output</strong> </p>
<ul class='with-space'>
<li>
<p class='with-space'>The BRC20 Token <code>Transfer()</code> method automatically records a standard token transfer receipt on BCBChain. The receipt is defined as follows：</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='import ( 
  &quot;blockchain/smcsdk/sdk/bn&quot; 
  &quot;blockchain/smcsdk/sdk/types&quot; 
)

// Name of receipt: std::transfer 
type Transfer struct { 
  Token      smc.Address  `json:&quot;token&quot;`      // Token address 
  From       smc.Address  `json:&quot;from&quot;`       // From address 
  To         smc.Address  `json:&quot;to&quot;`         // Token recipient address 
  Value      bn.Number    `json:&quot;value&quot;`      // The amount of token transferred 
} '>Copy</button><pre><code class='go' lang='go'>import ( 
  &quot;blockchain/smcsdk/sdk/bn&quot; 
  &quot;blockchain/smcsdk/sdk/types&quot; 
)

// Name of receipt: std::transfer 
type Transfer struct { 
  Token      smc.Address  `json:&quot;token&quot;`      // Token address 
  From       smc.Address  `json:&quot;from&quot;`       // From address 
  To         smc.Address  `json:&quot;to&quot;`         // Token recipient address 
  Value      bn.Number    `json:&quot;value&quot;`      // The amount of token transferred 
} 
</code></pre>
</figure></li>
</ul>
<h3 id='b96489d0'><span class='bd-content-title'>5.2 AddSupply<a class='anchorjs-link ' href='#b96489d0' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<p class='with-space'> <strong>Method Prototype</strong> </p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='import (
    &quot;blockchain/smcsdk/sdk/bn&quot;
)

//@:public:method:gas[2400]
AddSupply(bn.Number)'>Copy</button><pre><code class='go' lang='go'>import (
    &quot;blockchain/smcsdk/sdk/bn&quot;
)

//@:public:method:gas[2400]
AddSupply(bn.Number)
</code></pre>
</figure>
<p class='with-space'> <strong>Function Description</strong> </p>
<ul class='with-space'>
<li>
<p class='with-space'>Increase supply of tokens.</p></li>
</ul>
<p class='with-space'> <strong>Implementation Note</strong> </p>
<ul class='with-space'>
<li>
<p class='with-space'>Optional;</p></li>
<li>
<p class='with-space'>If implemented, requires markup public:method `.</p></li>
</ul>
<p class='with-space'> <strong>Usage note</strong> </p>
<ul class='with-space'>
<li>
<p class='with-space'>Only token owners can make calls through transaction broadcasts</p></li>
</ul>
<p class='with-space'> <strong>Input Parameters</strong> </p>
<ul class='with-space'>
<li>
<p class='with-space'>_value bn.Number Newly added supply</p></li>
</ul>
<p class='with-space'> <strong>Receipt Output</strong> </p>
<ul class='with-space'>
<li>
<p class='with-space'>The BRC20 Token <code>AddSupply()</code> method automatically records a standard token extension receipt on BCBChain. The receipt is defined as follows:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='import ( 
  &quot;blockchain/smcsdk/sdk/bn&quot; 
  &quot;blockchain/smcsdk/sdk/types&quot; 
)

// Name of receipt: std::addSupply 
type AddSupply struct { 
  Token       types.Address `json:&quot;token&quot;`       // Token address 
  Value       bn.Number     `json:&quot;value&quot;`       // Additional supply（单位：cong） 
  TotalSupply bn.Number     `json:&quot;totalSupply&quot;` // New total supply（单位：cong） 
} '>Copy</button><pre><code class='go' lang='go'>import ( 
  &quot;blockchain/smcsdk/sdk/bn&quot; 
  &quot;blockchain/smcsdk/sdk/types&quot; 
)

// Name of receipt: std::addSupply 
type AddSupply struct { 
  Token       types.Address `json:&quot;token&quot;`       // Token address 
  Value       bn.Number     `json:&quot;value&quot;`       // Additional supply（单位：cong） 
  TotalSupply bn.Number     `json:&quot;totalSupply&quot;` // New total supply（单位：cong） 
} 
</code></pre>
</figure></li>
<li>
<p class='with-space'>The BRC20 Token <code>AddSupply()</code>  method also automatically records a standard  <code>std::transfer</code>receipt on BCBChain</p></li>
</ul>
<h3 id='d1d5de8b'><span class='bd-content-title'>5.3 Burn<a class='anchorjs-link ' href='#d1d5de8b' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<p class='with-space'> <strong>Method Prototype</strong> </p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='import (
    &quot;blockchain/smcsdk/sdk/bn&quot;
)

//@:public:method:gas[2400]
Burn(bn.Number)'>Copy</button><pre><code class='go' lang='go'>import (
    &quot;blockchain/smcsdk/sdk/bn&quot;
)

//@:public:method:gas[2400]
Burn(bn.Number)
</code></pre>
</figure>
<p class='with-space'> <strong>Function Description</strong> </p>
<ul class='with-space'>
<li>
<p class='with-space'>Burns the amount supplied.</p></li>
</ul>
<p class='with-space'> <strong>Implementation Note</strong> </p>
<ul class='with-space'>
<li>
<p class='with-space'>Optional;</p></li>
<li>
<p class='with-space'>If implemented, requires markup public:method `.</p></li>
</ul>
<p class='with-space'> <strong>Usage note</strong> </p>
<ul class='with-space'>
<li>
<p class='with-space'>Only token owners can make calls through transaction broadcasts.</p></li>
</ul>
<p class='with-space'> <strong>Input Parameters</strong> </p>
<ul class='with-space'>
<li>
<p class='with-space'>_value bn.Number Burn the amount supplied (Unit: Cong)</p></li>
</ul>
<p class='with-space'> <strong>Receipt Output</strong> </p>
<ul class='with-space'>
<li>
<p class='with-space'>The BRC20 Token <code>Burn()</code> method automatically records a standard token burning receipt on BCBChain. The receipt is defined as follows:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='import ( 
  &quot;blockchain/smcsdk/sdk/bn&quot; 
  &quot;blockchain/smcsdk/sdk/types&quot; 
)

// Name of receipt: std::burn 
type Burn struct { 
  Token       types.Address `json:&quot;token&quot;`       // Token address 
  Value       bn.Number     `json:&quot;value&quot;`       // 燃烧的供应量（单位：cong） 
  TotalSupply bn.Number     `json:&quot;totalSupply&quot;` // 新的总供应量（单位：cong） 
} '>Copy</button><pre><code class='go' lang='go'>import ( 
  &quot;blockchain/smcsdk/sdk/bn&quot; 
  &quot;blockchain/smcsdk/sdk/types&quot; 
)

// Name of receipt: std::burn 
type Burn struct { 
  Token       types.Address `json:&quot;token&quot;`       // Token address 
  Value       bn.Number     `json:&quot;value&quot;`       // 燃烧的供应量（单位：cong） 
  TotalSupply bn.Number     `json:&quot;totalSupply&quot;` // 新的总供应量（单位：cong） 
} 
</code></pre>
</figure></li>
<li>
<p class='with-space'>The BRC20 Token <code>Burn()</code>  method also automatically records a standard  <code>std::transfer</code> receipt on BCBChain.</p></li>
</ul>
<h3 id='d6bf47e1'><span class='bd-content-title'>5.4 SetGasPrice<a class='anchorjs-link ' href='#d6bf47e1' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<p class='with-space'> <strong>Method Prototype</strong> </p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='//@:public:method:gas[2400]
SetGasPrice(int64)'>Copy</button><pre><code class='go' lang='go'>//@:public:method:gas[2400]
SetGasPrice(int64)
</code></pre>
</figure>
<p class='with-space'> <strong>Function Description</strong> </p>
<ul class='with-space'>
<li>
<p class='with-space'>Sets the price for Gas.</p></li>
</ul>
<p class='with-space'> <strong>Implementation Note</strong> </p>
<ul class='with-space'>
<li>
<p class='with-space'>Optional;</p></li>
<li>
<p class='with-space'>If implemented, requires markup public:method.</p></li>
</ul>
<p class='with-space'> <strong>Usage note</strong> </p>
<ul class='with-space'>
<li>
<p class='with-space'>Only token owners can make calls through transaction broadcasts</p></li>
</ul>
<p class='with-space'> <strong>Input Parameters</strong> </p>
<ul class='with-space'>
<li>
<p class='with-space'>_value int64 New gas price (Unit: Cong)</p></li>
</ul>
<p class='with-space'> <strong>Receipt Output</strong> </p>
<ul class='with-space'>
<li>
<p class='with-space'>The BRC20 Token <code>SetGasPrice()</code> method automatically records a standard set gas price receipt on BCBChain. The receipt is defined as follows:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='import ( 
  &quot;blockchain/smcsdk/sdk/types&quot; 
)

// Name of receipt: std::setGasPrice 
type SetGasPrice struct { 
  Token    types.Address `json:&quot;token&quot;`    // Token address 
  GasPrice int64         `json:&quot;gasPrice&quot;` // Gas Price (Unit: Cong) 
} '>Copy</button><pre><code class='go' lang='go'>import ( 
  &quot;blockchain/smcsdk/sdk/types&quot; 
)

// Name of receipt: std::setGasPrice 
type SetGasPrice struct { 
  Token    types.Address `json:&quot;token&quot;`    // Token address 
  GasPrice int64         `json:&quot;gasPrice&quot;` // Gas Price (Unit: Cong) 
} 
</code></pre>
</figure></li>
</ul>
<h3 id='c3c123d7'><span class='bd-content-title'>5.5 SetOwner<a class='anchorjs-link ' href='#c3c123d7' aria-label='Anchor' data-anchorjs-icon='#'></a></span></h3>
<p class='with-space'> <strong>Method Prototype</strong> </p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='import (
    &quot;blockchain/smcsdk/sdk/types&quot;
)

//@:public:method:gas[2400]
SetOwner(types.Address)'>Copy</button><pre><code class='go' lang='go'>import (
    &quot;blockchain/smcsdk/sdk/types&quot;
)

//@:public:method:gas[2400]
SetOwner(types.Address)
</code></pre>
</figure>
<p class='with-space'> <strong>Function Description</strong> </p>
<ul class='with-space'>
<li>
<p class='with-space'>Transfer ownership of smart contracts and tokens.</p></li>
</ul>
<p class='with-space'> <strong>Implementation Note</strong> </p>
<ul class='with-space'>
<li>
<p class='with-space'>Optional;</p></li>
<li>
<p class='with-space'>If implemented, requires markup public:method `.</p></li>
</ul>
<p class='with-space'> <strong>Usage note</strong> </p>
<ul class='with-space'>
<li>
<p class='with-space'>Only token owners can make calls through transaction broadcasts</p></li>
</ul>
<p class='with-space'> <strong>Input Parameters</strong> </p>
<ul class='with-space'>
<li>
<p class='with-space'>_newOwner types.Address Address of the new owner of the contract.</p></li>
</ul>
<p class='with-space'> <strong>Receipt Output</strong> </p>
<ul class='with-space'>
<li>
<p class='with-space'>The BRC20 Token <code>SetOwner()</code> method automatically records a standard transfer ownership receipt on BCBChain. The receipt is defined as follows:</p>
<figure class='highlight'>
<button type='button' class='btn-clipboard' data-original-title='Copy to clipboard' data-clipboard-action='copy' data-toggle='tooltip' data-placement='top' title='Copy to clipboard' data-clipboard-text='import ( 
  &quot;blockchain/smcsdk/sdk/types&quot; 
)

// Name of receipt: std::setOwner 
type SetOwner struct { 
  ContractAddr types.Address `json:&quot;contractAddr&quot;` // Address of the smart contract 
  NewOwner     types.Address `json:&quot;newOwner&quot;`     // The external account address of the new owner 
} '>Copy</button><pre><code class='go' lang='go'>import ( 
  &quot;blockchain/smcsdk/sdk/types&quot; 
)

// Name of receipt: std::setOwner 
type SetOwner struct { 
  ContractAddr types.Address `json:&quot;contractAddr&quot;` // Address of the smart contract 
  NewOwner     types.Address `json:&quot;newOwner&quot;`     // The external account address of the new owner 
} 
</code></pre>
</figure></li>
<li>
<p class='with-space'>The BRC20 Token <code>SetOwner()</code>  method also automatically records a standard  <code>std::transfer</code> receipt on BCBChain.</p></li>
</ul>
            </main>
            <div class="d-none d-lg-block side-nav py-2 py-md-5">
                <a href="https://github.com/bcbchain/docs/blob/master/docs/en-us/04-SmartContractDev\SmartContract(golang)\03-DeeperUnderstanding.md" class="contribution-link d-block">Improve this Doc</a>
                <div class="side-nav-text">In this article</div>
                <div id="navbar-sidenav">
                    <nav class='nav nav-pills flex-column'>
<a class='ml--2 d-none my-1 nav-link' href='#eb6b5124'>Deeper Understanding of Smart Contracts</a>
<nav class='nav nav-pills flex-column'>
<a class='ml-0 my-1 nav-link' href='#c93a45be'>1. Organization</a>
<a class='ml-0 my-1 nav-link' href='#abf8da5c'>2. BNF Paradigm</a>
<a class='ml-0 my-1 nav-link' href='#c489700a'>3. Contract Markups</a>
<nav class='nav nav-pills flex-column'>
<a class='ml-2 my-1 nav-link' href='#c2e0694a'>3.1 contract</a>
<a class='ml-2 my-1 nav-link' href='#f5c12141'>3.2 version</a>
<a class='ml-2 my-1 nav-link' href='#bd7e567f'>3.3 organization</a>
<a class='ml-2 my-1 nav-link' href='#b2b1bfa2'>3.4 author</a>
<a class='ml-2 my-1 nav-link' href='#bb79b3ee'>3.5 constructor</a>
<a class='ml-2 my-1 nav-link' href='#dfa2e00b'>3.6 public:store</a>
<a class='ml-2 my-1 nav-link' href='#b8e56023'>3.7 public:store:cache</a>
<a class='ml-2 my-1 nav-link' href='#f9acffed'>3.8 public:receipt</a>
<a class='ml-2 my-1 nav-link' href='#c395f865'>3.9 public:method</a>
<a class='ml-2 my-1 nav-link' href='#d82f4ff6'>3.10 public:interface</a>
<a class='ml-2 my-1 nav-link' href='#e4d4d079'>3.11 public:mine</a>
<a class='ml-2 my-1 nav-link' href='#ba818369'>3.12 import</a>
</nav>
<a class='ml-0 my-1 nav-link' href='#ecd7649f'>4. Contract Specification</a>
<nav class='nav nav-pills flex-column'>
<a class='ml-2 my-1 nav-link' href='#b0cf00bd'>4.1 BNF Paradigm Definition</a>
<a class='ml-2 my-1 nav-link' href='#fa339b9b'>4.2 Package Specification</a>
<a class='ml-2 my-1 nav-link' href='#ecfbe0e4'>4.3 Whitelist</a>
</nav>
<a class='ml-0 my-1 nav-link' href='#ab926cde'>5. BRC20 Token</a>
<nav class='nav nav-pills flex-column'>
<a class='ml-2 my-1 nav-link' href='#d659f464'>5.1 Transfer</a>
<a class='ml-2 my-1 nav-link' href='#b96489d0'>5.2 AddSupply</a>
<a class='ml-2 my-1 nav-link' href='#d1d5de8b'>5.3 Burn</a>
<a class='ml-2 my-1 nav-link' href='#d6bf47e1'>5.4 SetGasPrice</a>
<a class='ml-2 my-1 nav-link' href='#c3c123d7'>5.5 SetOwner</a>
</nav>
</nav>
</nav>
                </div>
            </div>
        </div>
    </div>
    <div class="lightbulb" title="Turn On/Off" onclick="turnOff()">
        <i class="far fa-lightbulb"></i>
    </div>
    <footer>
    </footer>
    <script src="/lib/jquery/jquery.min.js"></script>
    <script src="/lib/popper.js/popper.min.js"></script>
    <script src="/lib/bootstrap/js/bootstrap.min.js"></script>
    <script src="/js/jquery.lazyload.min.js"></script>
    <script src="/js/utility.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/highlight.min.js"></script>
    <script src="/js/text-autospace.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-130525731-2"></script>
    <script src="/js/site.min.js?v=20191106"></script>
    <script>
        //适用于FAQ的根据标题展开收缩
        if (false) {
            $("h2").click(function (e) {
                $(".div-collapse").not($(e.target).parents("h2").next()).hide("fast");
                $(e.target).parents("h2").next().toggle("fast");
            });
        }

        $("#sInput").bind({
            focus: function () {
                searchBar();
            },
            keyup: function (e) {
                clearTimeout();
                if (e.which == 13) {
                    searchBar();
                }
                setTimeout(searchBar, 300);
            },
            paste: function () {
                searchBar();
            }
        });

        $(".search-de").click(function () {
            $("#sInput").val("");
            $("#sResult").html("");
        })

        var url = window.location.origin;

        function searchBar() {
            k = $("#sInput").val();
            l = localStorage.getItem("lang") || navigator.language || "en-us";
            if (!k) $("#sResult").html("");
            $.ajax({
                type: "GET",
                url: url + "/?k=" + encodeURIComponent(k) + "&l=" + encodeURIComponent(l),
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                success: function (data) {
                    var html = ""

                    if (data.length == 0) {
                        html += "<li><a><span> No results found. </span></a></li > ";
                    }
                    for (i in data) {
                        var _data = data[i];
                        html += "<li><a href=" + _data.Link + "><strong>" + _data.Title + "</strong><br />";
                        html += "<span>" + _data.Line + "</span></a></li>";
                    }
                    $("#sResult").html(html);
                },
                fail: function () {
                    alert("fail");
                }
            });
        }

    </script>
</body>
</html>
